<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/inikulin/parse5"

    >parse5 (v3.0.2)</a>
</h1>
<h4>HTML parsing/serialization toolset for Node.js. WHATWG HTML Living Standard (aka HTML5)-compliant.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5">module parse5</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream">
            function <span class="apidocSignatureSpan">parse5.</span>ParserStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.PlainTextConversionStream">
            function <span class="apidocSignatureSpan">parse5.</span>PlainTextConversionStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser">
            function <span class="apidocSignatureSpan">parse5.</span>SAXParser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SerializerStream">
            function <span class="apidocSignatureSpan">parse5.</span>SerializerStream
            <span class="apidocSignatureSpan">(node, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.dev_null_stream">
            function <span class="apidocSignatureSpan">parse5.</span>dev_null_stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list">
            function <span class="apidocSignatureSpan">parse5.</span>formatting_element_list
            <span class="apidocSignatureSpan">(treeAdapter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index">
            function <span class="apidocSignatureSpan">parse5.</span>index
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack">
            function <span class="apidocSignatureSpan">parse5.</span>open_element_stack
            <span class="apidocSignatureSpan">(document, treeAdapter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parse">
            function <span class="apidocSignatureSpan">parse5.</span>parse
            <span class="apidocSignatureSpan">(html, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parseFragment">
            function <span class="apidocSignatureSpan">parse5.</span>parseFragment
            <span class="apidocSignatureSpan">(fragmentContext, html, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator">
            function <span class="apidocSignatureSpan">parse5.</span>parser_feedback_simulator
            <span class="apidocSignatureSpan">(tokenizer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor">
            function <span class="apidocSignatureSpan">parse5.</span>preprocessor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.serialize">
            function <span class="apidocSignatureSpan">parse5.</span>serialize
            <span class="apidocSignatureSpan">(node, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>ParserStream.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>SAXParser.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>SerializerStream.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>default</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>dev_null_stream.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>doctype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>foreign_content</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>formatting_element_list.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>htmlparser2</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>index.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>open_element_stack.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>parser_feedback_simulator.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>parser_mixin</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>preprocessor.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>tokenizer_mixin</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.</span>treeAdapters</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.ParserStream">module parse5.ParserStream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.ParserStream">
            function <span class="apidocSignatureSpan">parse5.</span>ParserStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.super_">
            function <span class="apidocSignatureSpan">parse5.ParserStream.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.ParserStream.prototype">module parse5.ParserStream.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.prototype._documentWrite">
            function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_documentWrite
            <span class="apidocSignatureSpan">(html)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.prototype._resume">
            function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.prototype._runParsingLoop">
            function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_runParsingLoop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.prototype._scriptHandler">
            function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_scriptHandler
            <span class="apidocSignatureSpan">(scriptElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.prototype._write">
            function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_write
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.ParserStream.prototype.end">
            function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>end
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.PlainTextConversionStream">module parse5.PlainTextConversionStream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.PlainTextConversionStream.PlainTextConversionStream">
            function <span class="apidocSignatureSpan">parse5.</span>PlainTextConversionStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.PlainTextConversionStream.super_">
            function <span class="apidocSignatureSpan">parse5.PlainTextConversionStream.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.SAXParser">module parse5.SAXParser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.SAXParser">
            function <span class="apidocSignatureSpan">parse5.</span>SAXParser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.super_">
            function <span class="apidocSignatureSpan">parse5.SAXParser.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.SAXParser.prototype">module parse5.SAXParser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype._emitPendingText">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_emitPendingText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype._flush">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_flush
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype._handleToken">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_handleToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype._runParsingLoop">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_runParsingLoop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype._transform">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_transform
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype.end">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>end
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SAXParser.prototype.stop">
            function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.SerializerStream">module parse5.SerializerStream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SerializerStream.SerializerStream">
            function <span class="apidocSignatureSpan">parse5.</span>SerializerStream
            <span class="apidocSignatureSpan">(node, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SerializerStream.super_">
            function <span class="apidocSignatureSpan">parse5.SerializerStream.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.SerializerStream.prototype">module parse5.SerializerStream.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.SerializerStream.prototype._read">
            function <span class="apidocSignatureSpan">parse5.SerializerStream.prototype.</span>_read
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.default">module parse5.default</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.adoptAttributes">
            function <span class="apidocSignatureSpan">parse5.default.</span>adoptAttributes
            <span class="apidocSignatureSpan">(recipient, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.appendChild">
            function <span class="apidocSignatureSpan">parse5.default.</span>appendChild
            <span class="apidocSignatureSpan">(parentNode, newNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.createCommentNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>createCommentNode
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.createDocument">
            function <span class="apidocSignatureSpan">parse5.default.</span>createDocument
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.createDocumentFragment">
            function <span class="apidocSignatureSpan">parse5.default.</span>createDocumentFragment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.createElement">
            function <span class="apidocSignatureSpan">parse5.default.</span>createElement
            <span class="apidocSignatureSpan">(tagName, namespaceURI, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.detachNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>detachNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getAttrList">
            function <span class="apidocSignatureSpan">parse5.default.</span>getAttrList
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getChildNodes">
            function <span class="apidocSignatureSpan">parse5.default.</span>getChildNodes
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getCommentNodeContent">
            function <span class="apidocSignatureSpan">parse5.default.</span>getCommentNodeContent
            <span class="apidocSignatureSpan">(commentNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getDocumentMode">
            function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentMode
            <span class="apidocSignatureSpan">(document)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getDocumentTypeNodeName">
            function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentTypeNodeName
            <span class="apidocSignatureSpan">(doctypeNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getDocumentTypeNodePublicId">
            function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentTypeNodePublicId
            <span class="apidocSignatureSpan">(doctypeNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getDocumentTypeNodeSystemId">
            function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentTypeNodeSystemId
            <span class="apidocSignatureSpan">(doctypeNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getFirstChild">
            function <span class="apidocSignatureSpan">parse5.default.</span>getFirstChild
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getNamespaceURI">
            function <span class="apidocSignatureSpan">parse5.default.</span>getNamespaceURI
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getParentNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>getParentNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getTagName">
            function <span class="apidocSignatureSpan">parse5.default.</span>getTagName
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getTemplateContent">
            function <span class="apidocSignatureSpan">parse5.default.</span>getTemplateContent
            <span class="apidocSignatureSpan">(templateElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.getTextNodeContent">
            function <span class="apidocSignatureSpan">parse5.default.</span>getTextNodeContent
            <span class="apidocSignatureSpan">(textNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.insertBefore">
            function <span class="apidocSignatureSpan">parse5.default.</span>insertBefore
            <span class="apidocSignatureSpan">(parentNode, newNode, referenceNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.insertText">
            function <span class="apidocSignatureSpan">parse5.default.</span>insertText
            <span class="apidocSignatureSpan">(parentNode, text)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.insertTextBefore">
            function <span class="apidocSignatureSpan">parse5.default.</span>insertTextBefore
            <span class="apidocSignatureSpan">(parentNode, text, referenceNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.isCommentNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>isCommentNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.isDocumentTypeNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>isDocumentTypeNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.isElementNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>isElementNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.isTextNode">
            function <span class="apidocSignatureSpan">parse5.default.</span>isTextNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.setDocumentMode">
            function <span class="apidocSignatureSpan">parse5.default.</span>setDocumentMode
            <span class="apidocSignatureSpan">(document, mode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.setDocumentType">
            function <span class="apidocSignatureSpan">parse5.default.</span>setDocumentType
            <span class="apidocSignatureSpan">(document, name, publicId, systemId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.default.setTemplateContent">
            function <span class="apidocSignatureSpan">parse5.default.</span>setTemplateContent
            <span class="apidocSignatureSpan">(templateElement, contentElement)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.dev_null_stream">module parse5.dev_null_stream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.dev_null_stream.dev_null_stream">
            function <span class="apidocSignatureSpan">parse5.</span>dev_null_stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.dev_null_stream.super_">
            function <span class="apidocSignatureSpan">parse5.dev_null_stream.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.dev_null_stream.prototype">module parse5.dev_null_stream.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.dev_null_stream.prototype._write">
            function <span class="apidocSignatureSpan">parse5.dev_null_stream.prototype.</span>_write
            <span class="apidocSignatureSpan">(chunk, encoding, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.doctype">module parse5.doctype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.doctype.getDocumentMode">
            function <span class="apidocSignatureSpan">parse5.doctype.</span>getDocumentMode
            <span class="apidocSignatureSpan">(name, publicId, systemId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.doctype.serializeContent">
            function <span class="apidocSignatureSpan">parse5.doctype.</span>serializeContent
            <span class="apidocSignatureSpan">(name, publicId, systemId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.foreign_content">module parse5.foreign_content</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.foreign_content.adjustTokenMathMLAttrs">
            function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenMathMLAttrs
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.foreign_content.adjustTokenSVGAttrs">
            function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenSVGAttrs
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.foreign_content.adjustTokenSVGTagName">
            function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenSVGTagName
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.foreign_content.adjustTokenXMLAttrs">
            function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenXMLAttrs
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.foreign_content.causesExit">
            function <span class="apidocSignatureSpan">parse5.foreign_content.</span>causesExit
            <span class="apidocSignatureSpan">(startTagToken)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.foreign_content.isIntegrationPoint">
            function <span class="apidocSignatureSpan">parse5.foreign_content.</span>isIntegrationPoint
            <span class="apidocSignatureSpan">(tn, ns, attrs, foreignNS)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">parse5.foreign_content.</span>SVG_TAG_NAMES_ADJUSTMENT_MAP</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.formatting_element_list">module parse5.formatting_element_list</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.formatting_element_list">
            function <span class="apidocSignatureSpan">parse5.</span>formatting_element_list
            <span class="apidocSignatureSpan">(treeAdapter)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">parse5.formatting_element_list.</span>ELEMENT_ENTRY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">parse5.formatting_element_list.</span>MARKER_ENTRY</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.formatting_element_list.prototype">module parse5.formatting_element_list.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype._ensureNoahArkCondition">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>_ensureNoahArkCondition
            <span class="apidocSignatureSpan">(newElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype._getNoahArkConditionCandidates">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>_getNoahArkConditionCandidates
            <span class="apidocSignatureSpan">(newElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.clearToLastMarker">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>clearToLastMarker
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.getElementEntry">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>getElementEntry
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.getElementEntryInScopeWithTagName">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>getElementEntryInScopeWithTagName
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.insertElementAfterBookmark">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>insertElementAfterBookmark
            <span class="apidocSignatureSpan">(element, token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.insertMarker">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>insertMarker
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.pushElement">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>pushElement
            <span class="apidocSignatureSpan">(element, token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.formatting_element_list.prototype.removeEntry">
            function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>removeEntry
            <span class="apidocSignatureSpan">(entry)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.htmlparser2">module parse5.htmlparser2</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.adoptAttributes">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>adoptAttributes
            <span class="apidocSignatureSpan">(recipient, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.appendChild">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>appendChild
            <span class="apidocSignatureSpan">(parentNode, newNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.createCommentNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createCommentNode
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.createDocument">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createDocument
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.createDocumentFragment">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createDocumentFragment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.createElement">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createElement
            <span class="apidocSignatureSpan">(tagName, namespaceURI, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.detachNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>detachNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getAttrList">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getAttrList
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getChildNodes">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getChildNodes
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getCommentNodeContent">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getCommentNodeContent
            <span class="apidocSignatureSpan">(commentNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getDocumentMode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentMode
            <span class="apidocSignatureSpan">(document)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getDocumentTypeNodeName">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentTypeNodeName
            <span class="apidocSignatureSpan">(doctypeNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getDocumentTypeNodePublicId">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentTypeNodePublicId
            <span class="apidocSignatureSpan">(doctypeNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getDocumentTypeNodeSystemId">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentTypeNodeSystemId
            <span class="apidocSignatureSpan">(doctypeNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getFirstChild">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getFirstChild
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getNamespaceURI">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getNamespaceURI
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getParentNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getParentNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getTagName">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getTagName
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getTemplateContent">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getTemplateContent
            <span class="apidocSignatureSpan">(templateElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.getTextNodeContent">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getTextNodeContent
            <span class="apidocSignatureSpan">(textNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.insertBefore">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>insertBefore
            <span class="apidocSignatureSpan">(parentNode, newNode, referenceNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.insertText">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>insertText
            <span class="apidocSignatureSpan">(parentNode, text)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.insertTextBefore">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>insertTextBefore
            <span class="apidocSignatureSpan">(parentNode, text, referenceNode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.isCommentNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isCommentNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.isDocumentTypeNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isDocumentTypeNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.isElementNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isElementNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.isTextNode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isTextNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.setDocumentMode">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>setDocumentMode
            <span class="apidocSignatureSpan">(document, mode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.setDocumentType">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>setDocumentType
            <span class="apidocSignatureSpan">(document, name, publicId, systemId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.htmlparser2.setTemplateContent">
            function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>setTemplateContent
            <span class="apidocSignatureSpan">(templateElement, contentElement)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.index">module parse5.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.index">
            function <span class="apidocSignatureSpan">parse5.</span>index
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.index.prototype">module parse5.index.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._adoptNodes">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_adoptNodes
            <span class="apidocSignatureSpan">(donor, recipient)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._appendCommentNode">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_appendCommentNode
            <span class="apidocSignatureSpan">(token, parent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._appendElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_appendElement
            <span class="apidocSignatureSpan">(token, namespaceURI)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._attachElementToTree">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_attachElementToTree
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._bootstrap">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_bootstrap
            <span class="apidocSignatureSpan">(document, fragmentContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._closePElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_closePElement
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._closeTableCell">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_closeTableCell
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._findFormInFragmentContext">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_findFormInFragmentContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._findFosterParentingLocation">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_findFosterParentingLocation
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._fosterParentElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_fosterParentElement
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._fosterParentText">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_fosterParentText
            <span class="apidocSignatureSpan">(chars)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._getAdjustedCurrentElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_getAdjustedCurrentElement
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._initTokenizerForFragmentParsing">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_initTokenizerForFragmentParsing
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._insertCharacters">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertCharacters
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._insertElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertElement
            <span class="apidocSignatureSpan">(token, namespaceURI)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._insertFakeElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertFakeElement
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._insertFakeRootElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertFakeRootElement
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._insertTemplate">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertTemplate
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._isElementCausesFosterParenting">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_isElementCausesFosterParenting
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._isIntegrationPoint">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_isIntegrationPoint
            <span class="apidocSignatureSpan">(element, foreignNS)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._isSpecialElement">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_isSpecialElement
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._popTmplInsertionMode">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_popTmplInsertionMode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._processInputToken">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processInputToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._processToken">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._processTokenInBodyMode">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processTokenInBodyMode
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._processTokenInForeignContent">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processTokenInForeignContent
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._pushTmplInsertionMode">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_pushTmplInsertionMode
            <span class="apidocSignatureSpan">(mode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._reconstructActiveFormattingElements">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_reconstructActiveFormattingElements
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._resetInsertionMode">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_resetInsertionMode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._resetInsertionModeForSelect">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_resetInsertionModeForSelect
            <span class="apidocSignatureSpan">(selectIdx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._runParsingLoop">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_runParsingLoop
            <span class="apidocSignatureSpan">(scriptHandler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._setDocumentType">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_setDocumentType
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._setupTokenizerCDATAMode">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_setupTokenizerCDATAMode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._shouldFosterParentOnInsertion">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_shouldFosterParentOnInsertion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._shouldProcessTokenInForeignContent">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_shouldProcessTokenInForeignContent
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype._switchToTextParsing">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_switchToTextParsing
            <span class="apidocSignatureSpan">(currentToken, nextTokenizerState)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype.parse">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>parse
            <span class="apidocSignatureSpan">(html)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype.parseFragment">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>parseFragment
            <span class="apidocSignatureSpan">(html, fragmentContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype.runParsingLoopForCurrentChunk">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>runParsingLoopForCurrentChunk
            <span class="apidocSignatureSpan">(writeCallback, scriptHandler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.index.prototype.switchToPlaintextParsing">
            function <span class="apidocSignatureSpan">parse5.index.prototype.</span>switchToPlaintextParsing
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.open_element_stack">module parse5.open_element_stack</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.open_element_stack">
            function <span class="apidocSignatureSpan">parse5.</span>open_element_stack
            <span class="apidocSignatureSpan">(document, treeAdapter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.open_element_stack.prototype">module parse5.open_element_stack.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype._indexOf">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>_indexOf
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype._isInTemplate">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>_isInTemplate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype._updateCurrentElement">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>_updateCurrentElement
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.clearBackToTableBodyContext">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>clearBackToTableBodyContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.clearBackToTableContext">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>clearBackToTableContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.clearBackToTableRowContext">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>clearBackToTableRowContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.contains">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>contains
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.generateImpliedEndTags">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>generateImpliedEndTags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.generateImpliedEndTagsWithExclusion">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>generateImpliedEndTagsWithExclusion
            <span class="apidocSignatureSpan">(exclusionTagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.getCommonAncestor">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>getCommonAncestor
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasInButtonScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInButtonScope
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasInListItemScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInListItemScope
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasInScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInScope
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasInSelectScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInSelectScope
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasInTableScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInTableScope
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasNumberedHeaderInScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasNumberedHeaderInScope
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.hasTableBodyContextInTableScope">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasTableBodyContextInTableScope
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.insertAfter">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>insertAfter
            <span class="apidocSignatureSpan">(referenceElement, newElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.isRootHtmlElementCurrent">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>isRootHtmlElementCurrent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.pop">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>pop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.popAllUpToHtmlElement">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popAllUpToHtmlElement
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.popUntilElementPopped">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilElementPopped
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.popUntilNumberedHeaderPopped">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilNumberedHeaderPopped
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.popUntilTableCellPopped">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilTableCellPopped
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.popUntilTagNamePopped">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilTagNamePopped
            <span class="apidocSignatureSpan">(tagName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.push">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>push
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.remove">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>remove
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.replace">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>replace
            <span class="apidocSignatureSpan">(oldElement, newElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.open_element_stack.prototype.tryPeekProperlyNestedBodyElement">
            function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>tryPeekProperlyNestedBodyElement
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.parser_feedback_simulator">module parse5.parser_feedback_simulator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.parser_feedback_simulator">
            function <span class="apidocSignatureSpan">parse5.</span>parser_feedback_simulator
            <span class="apidocSignatureSpan">(tokenizer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.parser_feedback_simulator.prototype">module parse5.parser_feedback_simulator.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.prototype._ensureTokenizerMode">
            function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_ensureTokenizerMode
            <span class="apidocSignatureSpan">(tn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.prototype._enterNamespace">
            function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_enterNamespace
            <span class="apidocSignatureSpan">(namespace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.prototype._handleEndTagToken">
            function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_handleEndTagToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.prototype._handleStartTagToken">
            function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_handleStartTagToken
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.prototype._leaveCurrentNamespace">
            function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_leaveCurrentNamespace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_feedback_simulator.prototype.getNextToken">
            function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>getNextToken
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.parser_mixin">module parse5.parser_mixin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.parser_mixin.assign">
            function <span class="apidocSignatureSpan">parse5.parser_mixin.</span>assign
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.preprocessor">module parse5.preprocessor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.preprocessor">
            function <span class="apidocSignatureSpan">parse5.</span>preprocessor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.preprocessor.prototype">module parse5.preprocessor.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype._addGap">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>_addGap
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype._processHighRangeCodePoint">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>_processHighRangeCodePoint
            <span class="apidocSignatureSpan">(cp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype.advance">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>advance
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype.dropParsedChunk">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>dropParsedChunk
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype.insertHtmlAtCurrentPos">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>insertHtmlAtCurrentPos
            <span class="apidocSignatureSpan">(chunk)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype.retreat">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>retreat
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.preprocessor.prototype.write">
            function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>write
            <span class="apidocSignatureSpan">(chunk, isLastChunk)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.parse5.tokenizer_mixin">module parse5.tokenizer_mixin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.parse5.tokenizer_mixin.assign">
            function <span class="apidocSignatureSpan">parse5.tokenizer_mixin.</span>assign
            <span class="apidocSignatureSpan">(tokenizer)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5" id="apidoc.module.parse5">module parse5</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.ParserStream" id="apidoc.element.parse5.ParserStream">
        function <span class="apidocSignatureSpan">parse5.</span>ParserStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ParserStream = function (options) {
    WritableStream.call(this);

    this.parser = new Parser(options);

    this.lastChunkWritten = false;
    this.writeCallback = null;
    this.pausedByScript = false;

    this.document = this.parser.treeAdapter.createDocument();

    this.pendingHtmlInsertions = [];

    this._resume = this._resume.bind(this);
    this._documentWrite = this._documentWrite.bind(this);
    this._scriptHandler = this._scriptHandler.bind(this);

    this.parser._bootstrap(this.document, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
* const http = require(&#x27;http&#x27;);
*
* // Fetch the page content and obtain it&#x27;s &#x3c;head&#x3e; node
* http.get(&#x27;http://inikulin.github.io/parse5/&#x27;, res =&#x3e; {
*    const parser = new parse5.<span class="apidocCodeKeywordSpan">ParserStream</span>();
*
*    parser.once(&#x27;finish&#x27;, () =&#x3e; {
*        console.log(parser.document.childNodes[1].childNodes[0].tagName); //&#x3e; &#x27;head&#x27;
*    });
*
*    res.pipe(parser);
* });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.PlainTextConversionStream" id="apidoc.element.parse5.PlainTextConversionStream">
        function <span class="apidocSignatureSpan">parse5.</span>PlainTextConversionStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">PlainTextConversionStream = function (options) {
    ParserStream.call(this, options);

    // NOTE: see https://html.spec.whatwg.org/#read-text
    this.parser._insertFakeElement($.HTML);
    this.parser._insertFakeElement($.HEAD);
    this.parser.openElements.pop();
    this.parser._insertFakeElement($.BODY);
    this.parser._insertFakeElement($.PRE);
    this.parser.treeAdapter.insertText(this.parser.openElements.current, &#x27;\n&#x27;);
    this.parser.switchToPlaintextParsing();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @example
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
* const fs = require(&#x27;fs&#x27;);
*
* const file = fs.createReadStream(&#x27;war_and_peace.txt&#x27;);
* const converter = new parse5.<span class="apidocCodeKeywordSpan">PlainTextConversionStream</span>();
*
* converter.once(&#x27;finish&#x27;, () =&#x3e; {
*     console.log(converter.document.childNodes[1].childNodes[0].tagName); //&#x3e; &#x27;head&#x27;
* });
*
* file.pipe(converter);
* ```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser" id="apidoc.element.parse5.SAXParser">
        function <span class="apidocSignatureSpan">parse5.</span>SAXParser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SAXParser = function (options) {
    TransformStream.call(this);

    this.options = mergeOptions(DEFAULT_OPTIONS, options);

    this.tokenizer = new Tokenizer(options);
    this.parserFeedbackSimulator = new ParserFeedbackSimulator(this.tokenizer);

    this.pendingText = null;
    this.currentTokenLocation = void 0;

    this.lastChunkWritten = false;
    this.stopped = false;

    // NOTE: always pipe stream to the /dev/null stream to avoid
    // `highWaterMark` hit even if we don&#x27;t have consumers.
    // (see: https://github.com/inikulin/parse5/issues/97#issuecomment-171940774)
    this.pipe(new DevNullStream());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
* const http = require(&#x27;http&#x27;);
* const fs = require(&#x27;fs&#x27;);
*
* const file = fs.createWriteStream(&#x27;/home/google.com.html&#x27;);
* const parser = new parse5.<span class="apidocCodeKeywordSpan">SAXParser</span>();
*
* parser.on(&#x27;text&#x27;, text =&#x3e; {
*    // Handle page text content
*    ...
* });
*
* http.get(&#x27;http://google.com&#x27;, res =&#x3e; {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SerializerStream" id="apidoc.element.parse5.SerializerStream">
        function <span class="apidocSignatureSpan">parse5.</span>SerializerStream
        <span class="apidocSignatureSpan">(node, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SerializerStream = function (node, options) {
    ReadableStream.call(this);

    this.serializer = new Serializer(node, options);

    Object.defineProperty(this.serializer, &#x27;html&#x27;, {
        //NOTE: To make `+=` concat operator work properly we define
        //getter which always returns empty string
        get: function () {
            return &#x27;&#x27;;
        },
        set: this.push.bind(this)
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * // Uses the default tree adapter for parsing.
 * const document = parse5.parse(&#x27;&#x3c;div&#x3e;&#x3c;/div&#x3e;&#x27;, {
 *     treeAdapter: parse5.treeAdapters.default
 * });
 *
 * // Uses the htmlparser2 tree adapter with the SerializerStream.
 * const serializer = new parse5.<span class="apidocCodeKeywordSpan">SerializerStream</span>(node, {
 *     treeAdapter: parse5.treeAdapters.htmlparser2
 * });
 * ```
 */
export var treeAdapters: {
/**
 * Default tree format for parse5.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.dev_null_stream" id="apidoc.element.parse5.dev_null_stream">
        function <span class="apidocSignatureSpan">parse5.</span>dev_null_stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dev_null_stream = function () {
    WritableStream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list" id="apidoc.element.parse5.formatting_element_list">
        function <span class="apidocSignatureSpan">parse5.</span>formatting_element_list
        <span class="apidocSignatureSpan">(treeAdapter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">formatting_element_list = function (treeAdapter) {
    this.length = 0;
    this.entries = [];
    this.treeAdapter = treeAdapter;
    this.bookmark = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index" id="apidoc.element.parse5.index">
        function <span class="apidocSignatureSpan">parse5.</span>index
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function (options) {
    this.options = mergeOptions(DEFAULT_OPTIONS, options);

    this.treeAdapter = this.options.treeAdapter;
    this.pendingScript = null;

    if (this.options.locationInfo)
        locationInfoMixin.assign(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack" id="apidoc.element.parse5.open_element_stack">
        function <span class="apidocSignatureSpan">parse5.</span>open_element_stack
        <span class="apidocSignatureSpan">(document, treeAdapter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open_element_stack = function (document, treeAdapter) {
    this.stackTop = -1;
    this.items = [];
    this.current = document;
    this.currentTagName = null;
    this.currentTmplContent = null;
    this.tmplCount = 0;
    this.treeAdapter = treeAdapter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parse" id="apidoc.element.parse5.parse">
        function <span class="apidocSignatureSpan">parse5.</span>parse
        <span class="apidocSignatureSpan">(html, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parse(html, options) {
    var parser = new Parser(options);

    return parser.parse(html);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @example
*```js
*
* const parse5 = require(&#x27;parse5&#x27;);
*
* // Uses the default tree adapter for parsing.
* const document = parse5.<span class="apidocCodeKeywordSpan">parse</span>(&#x27;&#x3c;div&#x3e;&#x3c;/div&#x3e;&#x27;, {
*     treeAdapter: parse5.treeAdapters.default
* });
*
* // Uses the htmlparser2 tree adapter with the SerializerStream.
* const serializer = new parse5.SerializerStream(node, {
*     treeAdapter: parse5.treeAdapters.htmlparser2
* });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parseFragment" id="apidoc.element.parse5.parseFragment">
        function <span class="apidocSignatureSpan">parse5.</span>parseFragment
        <span class="apidocSignatureSpan">(fragmentContext, html, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseFragment(fragmentContext, html, options) {
    if (typeof fragmentContext === &#x27;string&#x27;) {
        options = html;
        html = fragmentContext;
        fragmentContext = null;
    }

    var parser = new Parser(options);

    return parser.parseFragment(html, fragmentContext);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param options - Parsing options.
*
* @example
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
*
* const documentFragment = parse5.<span class="apidocCodeKeywordSpan">parseFragment</span>(&#x27;&#x3c;table&#x3e;&#x3c;/table&#
x3e;&#x27;);
*
* console.log(documentFragment.childNodes[0].tagName); //&#x3e; &#x27;table&#x27;
*
* // Parses the html fragment in the context of the parsed &#x3c;table&#x3e; element.
* const trFragment = parser.parseFragment(documentFragment.childNodes[0], &#x27;&#x3c;tr&#x3e;&#x3c;td&#x3e;Shake it, baby&#x3c;/
td&#x3e;&#x3c;/tr&#x3e;&#x27;);
*
* console.log(trFragment.childNodes[0].childNodes[0].tagName); //&#x3e; &#x27;td&#x27;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator" id="apidoc.element.parse5.parser_feedback_simulator">
        function <span class="apidocSignatureSpan">parse5.</span>parser_feedback_simulator
        <span class="apidocSignatureSpan">(tokenizer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parser_feedback_simulator = function (tokenizer) {
    this.tokenizer = tokenizer;

    this.namespaceStack = [];
    this.namespaceStackTop = -1;
    this._enterNamespace(NS.HTML);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor" id="apidoc.element.parse5.preprocessor">
        function <span class="apidocSignatureSpan">parse5.</span>preprocessor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preprocessor = function () {
    this.html = null;

    this.pos = -1;
    this.lastGapPos = -1;
    this.lastCharPos = -1;
    this.droppedBufferSize = 0;

    this.gapStack = [];

    this.skipNextNewLine = false;

    this.lastChunkWritten = false;
    this.endOfChunkHit = false;
    this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.serialize" id="apidoc.element.parse5.serialize">
        function <span class="apidocSignatureSpan">parse5.</span>serialize
        <span class="apidocSignatureSpan">(node, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (node, options) {
    var serializer = new Serializer(node, options);

    return serializer.serialize();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
*
* const document = parse5.parse(&#x27;&#x3c;!DOCTYPE html&#x3e;&#x3c;html&#x3e;&#x3c;head&#x3e;&#x3c;/head&#x3e;&#x3c;body&#x3e;
Hi there!&#x3c;/body&#x3e;&#x3c;/html&#x3e;&#x27;);
*
* // Serializes a document.
* const html = parse5.<span class="apidocCodeKeywordSpan">serialize</span>(document);
*
* // Serializes the &#x3c;html&#x3e; element content.
* const str = parse5.serialize(document.childNodes[1]);
*
* console.log(str); //&#x3e; &#x27;&#x3c;head&#x3e;&#x3c;/head&#x3e;&#x3c;body&#x3e;Hi there!&#x3c;/body&#x3e;&#x27;
* ```
*/
...</pre></li>
    </ul>


































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.ParserStream" id="apidoc.module.parse5.ParserStream">module parse5.ParserStream</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.ParserStream.ParserStream" id="apidoc.element.parse5.ParserStream.ParserStream">
        function <span class="apidocSignatureSpan">parse5.</span>ParserStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ParserStream = function (options) {
    WritableStream.call(this);

    this.parser = new Parser(options);

    this.lastChunkWritten = false;
    this.writeCallback = null;
    this.pausedByScript = false;

    this.document = this.parser.treeAdapter.createDocument();

    this.pendingHtmlInsertions = [];

    this._resume = this._resume.bind(this);
    this._documentWrite = this._documentWrite.bind(this);
    this._scriptHandler = this._scriptHandler.bind(this);

    this.parser._bootstrap(this.document, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
* const http = require(&#x27;http&#x27;);
*
* // Fetch the page content and obtain it&#x27;s &#x3c;head&#x3e; node
* http.get(&#x27;http://inikulin.github.io/parse5/&#x27;, res =&#x3e; {
*    const parser = new parse5.<span class="apidocCodeKeywordSpan">ParserStream</span>();
*
*    parser.once(&#x27;finish&#x27;, () =&#x3e; {
*        console.log(parser.document.childNodes[1].childNodes[0].tagName); //&#x3e; &#x27;head&#x27;
*    });
*
*    res.pipe(parser);
* });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.ParserStream.super_" id="apidoc.element.parse5.ParserStream.super_">
        function <span class="apidocSignatureSpan">parse5.ParserStream.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Writable(options) {
  // Writable ctor is applied to Duplexes, too.
  // `realHasInstance` is necessary because using plain `instanceof`
  // would return false, as no `_writableState` property is attached.

  // Trying to use the custom `instanceof` for Writable here will also break the
  // Node.js LazyTransform implementation, which has a non-trivial getter for
  // `_writableState` that would lead to infinite recursion.
  if (!(realHasInstance.call(Writable, this)) &#x26;&#x26;
      !(this instanceof Stream.Duplex)) {
    return new Writable(options);
  }

  this._writableState = new WritableState(options, this);

  // legacy.
  this.writable = true;

  if (options) {
    if (typeof options.write === &#x27;function&#x27;)
      this._write = options.write;

    if (typeof options.writev === &#x27;function&#x27;)
      this._writev = options.writev;
  }

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.ParserStream.prototype" id="apidoc.module.parse5.ParserStream.prototype">module parse5.ParserStream.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.ParserStream.prototype._documentWrite" id="apidoc.element.parse5.ParserStream.prototype._documentWrite">
        function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_documentWrite
        <span class="apidocSignatureSpan">(html)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_documentWrite = function (html) {
    if (!this.parser.stopped)
        this.pendingHtmlInsertions.push(html);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.ParserStream.prototype._resume" id="apidoc.element.parse5.ParserStream.prototype._resume">
        function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resume = function () {
    if (!this.pausedByScript)
        throw new Error(&#x27;Parser was already resumed&#x27;);

    while (this.pendingHtmlInsertions.length) {
        var html = this.pendingHtmlInsertions.pop();

        this.parser.tokenizer.insertHtmlAtCurrentPos(html);
    }

    this.pausedByScript = false;

    //NOTE: keep parsing if we don&#x27;t wait for the next input chunk
    if (this.parser.tokenizer.active)
        this._runParsingLoop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.ParserStream.prototype._runParsingLoop" id="apidoc.element.parse5.ParserStream.prototype._runParsingLoop">
        function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_runParsingLoop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_runParsingLoop = function () {
    this.parser.runParsingLoopForCurrentChunk(this.writeCallback, this._scriptHandler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// API
Parser.prototype.parse = function (html) {
var document = this.treeAdapter.createDocument();

this._bootstrap(document, null);
this.tokenizer.write(html, true);
this.<span class="apidocCodeKeywordSpan">_runParsingLoop</span>(null);

return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
//NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
//so we will parse in &#x22;forgiving&#x22; manner
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.ParserStream.prototype._scriptHandler" id="apidoc.element.parse5.ParserStream.prototype._scriptHandler">
        function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_scriptHandler
        <span class="apidocSignatureSpan">(scriptElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_scriptHandler = function (scriptElement) {
    if (this.listeners(&#x27;script&#x27;).length) {
        this.pausedByScript = true;
        this.emit(&#x27;script&#x27;, scriptElement, this._documentWrite, this._resume);
    }
    else
        this._runParsingLoop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.ParserStream.prototype._write" id="apidoc.element.parse5.ParserStream.prototype._write">
        function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>_write
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_write = function (chunk, encoding, callback) {
    this.writeCallback = callback;
    this.parser.tokenizer.write(chunk.toString(&#x27;utf8&#x27;), this.lastChunkWritten);
    this._runParsingLoop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.ParserStream.prototype.end" id="apidoc.element.parse5.ParserStream.prototype.end">
        function <span class="apidocSignatureSpan">parse5.ParserStream.prototype.</span>end
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (chunk, encoding, callback) {
    this.lastChunkWritten = true;
    WritableStream.prototype.end.call(this, chunk, encoding, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *        // `document.write` implemented using `documentWrite`.
 *        ...
 *        // Then resume parsing.
 *        resume();
 *     });
 * });
 *
 * parser.<span class="apidocCodeKeywordSpan">end</span>(&#x27;&#x3c;script src=&#x22;example.com/script.js&#x22;&#x3e;&#x3c;/script
&#x3e;&#x27;);
 * ```
 */
on(event: &#x27;script&#x27;, listener: (scriptElement: AST.Element, documentWrite: (html: string) =&#x3e; void, resume: () =&#x3e
; void) =&#x3e; void): this;
/**
 * WritableStream events
 */
on(event: string, listener: Function): this;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.PlainTextConversionStream" id="apidoc.module.parse5.PlainTextConversionStream">module parse5.PlainTextConversionStream</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.PlainTextConversionStream.PlainTextConversionStream" id="apidoc.element.parse5.PlainTextConversionStream.PlainTextConversionStream">
        function <span class="apidocSignatureSpan">parse5.</span>PlainTextConversionStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">PlainTextConversionStream = function (options) {
    ParserStream.call(this, options);

    // NOTE: see https://html.spec.whatwg.org/#read-text
    this.parser._insertFakeElement($.HTML);
    this.parser._insertFakeElement($.HEAD);
    this.parser.openElements.pop();
    this.parser._insertFakeElement($.BODY);
    this.parser._insertFakeElement($.PRE);
    this.parser.treeAdapter.insertText(this.parser.openElements.current, &#x27;\n&#x27;);
    this.parser.switchToPlaintextParsing();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @example
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
* const fs = require(&#x27;fs&#x27;);
*
* const file = fs.createReadStream(&#x27;war_and_peace.txt&#x27;);
* const converter = new parse5.<span class="apidocCodeKeywordSpan">PlainTextConversionStream</span>();
*
* converter.once(&#x27;finish&#x27;, () =&#x3e; {
*     console.log(converter.document.childNodes[1].childNodes[0].tagName); //&#x3e; &#x27;head&#x27;
* });
*
* file.pipe(converter);
* ```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.PlainTextConversionStream.super_" id="apidoc.element.parse5.PlainTextConversionStream.super_">
        function <span class="apidocSignatureSpan">parse5.PlainTextConversionStream.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (options) {
    WritableStream.call(this);

    this.parser = new Parser(options);

    this.lastChunkWritten = false;
    this.writeCallback = null;
    this.pausedByScript = false;

    this.document = this.parser.treeAdapter.createDocument();

    this.pendingHtmlInsertions = [];

    this._resume = this._resume.bind(this);
    this._documentWrite = this._documentWrite.bind(this);
    this._scriptHandler = this._scriptHandler.bind(this);

    this.parser._bootstrap(this.document, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.SAXParser" id="apidoc.module.parse5.SAXParser">module parse5.SAXParser</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.SAXParser.SAXParser" id="apidoc.element.parse5.SAXParser.SAXParser">
        function <span class="apidocSignatureSpan">parse5.</span>SAXParser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SAXParser = function (options) {
    TransformStream.call(this);

    this.options = mergeOptions(DEFAULT_OPTIONS, options);

    this.tokenizer = new Tokenizer(options);
    this.parserFeedbackSimulator = new ParserFeedbackSimulator(this.tokenizer);

    this.pendingText = null;
    this.currentTokenLocation = void 0;

    this.lastChunkWritten = false;
    this.stopped = false;

    // NOTE: always pipe stream to the /dev/null stream to avoid
    // `highWaterMark` hit even if we don&#x27;t have consumers.
    // (see: https://github.com/inikulin/parse5/issues/97#issuecomment-171940774)
    this.pipe(new DevNullStream());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
* const http = require(&#x27;http&#x27;);
* const fs = require(&#x27;fs&#x27;);
*
* const file = fs.createWriteStream(&#x27;/home/google.com.html&#x27;);
* const parser = new parse5.<span class="apidocCodeKeywordSpan">SAXParser</span>();
*
* parser.on(&#x27;text&#x27;, text =&#x3e; {
*    // Handle page text content
*    ...
* });
*
* http.get(&#x27;http://google.com&#x27;, res =&#x3e; {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.super_" id="apidoc.element.parse5.SAXParser.super_">
        function <span class="apidocSignatureSpan">parse5.SAXParser.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === &#x27;function&#x27;)
      this._transform = options.transform;

    if (typeof options.flush === &#x27;function&#x27;)
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once(&#x27;prefinish&#x27;, function() {
    if (typeof this._flush === &#x27;function&#x27;)
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.SAXParser.prototype" id="apidoc.module.parse5.SAXParser.prototype">module parse5.SAXParser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype._emitPendingText" id="apidoc.element.parse5.SAXParser.prototype._emitPendingText">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_emitPendingText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_emitPendingText = function () {
    if (this.pendingText !== null) {
        this.emit(&#x27;text&#x27;, this.pendingText, this.currentTokenLocation);
        this.pendingText = null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                this.currentTokenLocation.endOffset = token.location.endOffset;
        }

        this.pendingText = (this.pendingText || &#x27;&#x27;) + token.chars;
    }

    else {
        this.<span class="apidocCodeKeywordSpan">_emitPendingText</span>();
        this._handleToken(token);
    }
} while (!this.stopped &#x26;&#x26; token.type !== Tokenizer.EOF_TOKEN);
};

SAXParser.prototype._handleToken = function (token) {
if (this.options.locationInfo)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype._flush" id="apidoc.element.parse5.SAXParser.prototype._flush">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_flush
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function (callback) {
    callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype._handleToken" id="apidoc.element.parse5.SAXParser.prototype._handleToken">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_handleToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleToken = function (token) {
    if (this.options.locationInfo)
        this.currentTokenLocation = token.location;

    if (token.type === Tokenizer.START_TAG_TOKEN)
        this.emit(&#x27;startTag&#x27;, token.tagName, token.attrs, token.selfClosing, this.currentTokenLocation);

    else if (token.type === Tokenizer.END_TAG_TOKEN)
        this.emit(&#x27;endTag&#x27;, token.tagName, this.currentTokenLocation);

    else if (token.type === Tokenizer.COMMENT_TOKEN)
        this.emit(&#x27;comment&#x27;, token.data, this.currentTokenLocation);

    else if (token.type === Tokenizer.DOCTYPE_TOKEN)
        this.emit(&#x27;doctype&#x27;, token.name, token.publicId, token.systemId, this.currentTokenLocation);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }

        this.pendingText = (this.pendingText || &#x27;&#x27;) + token.chars;
    }

    else {
        this._emitPendingText();
        this.<span class="apidocCodeKeywordSpan">_handleToken</span>(token);
    }
} while (!this.stopped &#x26;&#x26; token.type !== Tokenizer.EOF_TOKEN);
};

SAXParser.prototype._handleToken = function (token) {
if (this.options.locationInfo)
    this.currentTokenLocation = token.location;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype._runParsingLoop" id="apidoc.element.parse5.SAXParser.prototype._runParsingLoop">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_runParsingLoop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_runParsingLoop = function () {
    do {
        var token = this.parserFeedbackSimulator.getNextToken();

        if (token.type === Tokenizer.HIBERNATION_TOKEN)
            break;

        if (token.type === Tokenizer.CHARACTER_TOKEN ||
            token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN ||
            token.type === Tokenizer.NULL_CHARACTER_TOKEN) {

            if (this.options.locationInfo) {
                if (this.pendingText === null)
                    this.currentTokenLocation = token.location;

                else
                    this.currentTokenLocation.endOffset = token.location.endOffset;
            }

            this.pendingText = (this.pendingText || &#x27;&#x27;) + token.chars;
        }

        else {
            this._emitPendingText();
            this._handleToken(token);
        }
    } while (!this.stopped &#x26;&#x26; token.type !== Tokenizer.EOF_TOKEN);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// API
Parser.prototype.parse = function (html) {
var document = this.treeAdapter.createDocument();

this._bootstrap(document, null);
this.tokenizer.write(html, true);
this.<span class="apidocCodeKeywordSpan">_runParsingLoop</span>(null);

return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
//NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
//so we will parse in &#x22;forgiving&#x22; manner
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype._transform" id="apidoc.element.parse5.SAXParser.prototype._transform">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>_transform
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (chunk, encoding, callback) {
    if (!this.stopped) {
        this.tokenizer.write(chunk.toString(&#x27;utf8&#x27;), this.lastChunkWritten);
        this._runParsingLoop();
    }

    this.push(chunk);

    callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype.end" id="apidoc.element.parse5.SAXParser.prototype.end">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>end
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (chunk, encoding, callback) {
    this.lastChunkWritten = true;
    TransformStream.prototype.end.call(this, chunk, encoding, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *        // `document.write` implemented using `documentWrite`.
 *        ...
 *        // Then resume parsing.
 *        resume();
 *     });
 * });
 *
 * parser.<span class="apidocCodeKeywordSpan">end</span>(&#x27;&#x3c;script src=&#x22;example.com/script.js&#x22;&#x3e;&#x3c;/script
&#x3e;&#x27;);
 * ```
 */
on(event: &#x27;script&#x27;, listener: (scriptElement: AST.Element, documentWrite: (html: string) =&#x3e; void, resume: () =&#x3e
; void) =&#x3e; void): this;
/**
 * WritableStream events
 */
on(event: string, listener: Function): this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SAXParser.prototype.stop" id="apidoc.element.parse5.SAXParser.prototype.stop">
        function <span class="apidocSignatureSpan">parse5.SAXParser.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {
    this.stopped = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* const file = fs.createWriteStream(&#x27;google.com.html&#x27;);
* const parser = new parse5.SAXParser();
*
* parser.on(&#x27;doctype&#x27;, (name, publicId, systemId) =&#x3e; {
*    // Process doctype info ans stop parsing
*    ...
*    parser.<span class="apidocCodeKeywordSpan">stop</span>();
* });
*
* http.get(&#x27;http://google.com&#x27;, res =&#x3e; {
*    // Despite the fact that parser.stop() was called whole
*    // content of the page will be written to the file
*    res.pipe(parser).pipe(file);
* });
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.SerializerStream" id="apidoc.module.parse5.SerializerStream">module parse5.SerializerStream</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.SerializerStream.SerializerStream" id="apidoc.element.parse5.SerializerStream.SerializerStream">
        function <span class="apidocSignatureSpan">parse5.</span>SerializerStream
        <span class="apidocSignatureSpan">(node, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SerializerStream = function (node, options) {
    ReadableStream.call(this);

    this.serializer = new Serializer(node, options);

    Object.defineProperty(this.serializer, &#x27;html&#x27;, {
        //NOTE: To make `+=` concat operator work properly we define
        //getter which always returns empty string
        get: function () {
            return &#x27;&#x27;;
        },
        set: this.push.bind(this)
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * // Uses the default tree adapter for parsing.
 * const document = parse5.parse(&#x27;&#x3c;div&#x3e;&#x3c;/div&#x3e;&#x27;, {
 *     treeAdapter: parse5.treeAdapters.default
 * });
 *
 * // Uses the htmlparser2 tree adapter with the SerializerStream.
 * const serializer = new parse5.<span class="apidocCodeKeywordSpan">SerializerStream</span>(node, {
 *     treeAdapter: parse5.treeAdapters.htmlparser2
 * });
 * ```
 */
export var treeAdapters: {
/**
 * Default tree format for parse5.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.SerializerStream.super_" id="apidoc.element.parse5.SerializerStream.super_">
        function <span class="apidocSignatureSpan">parse5.SerializerStream.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Readable(options) {
  if (!(this instanceof Readable))
    return new Readable(options);

  this._readableState = new ReadableState(options, this);

  // legacy
  this.readable = true;

  if (options &#x26;&#x26; typeof options.read === &#x27;function&#x27;)
    this._read = options.read;

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.SerializerStream.prototype" id="apidoc.module.parse5.SerializerStream.prototype">module parse5.SerializerStream.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.SerializerStream.prototype._read" id="apidoc.element.parse5.SerializerStream.prototype._read">
        function <span class="apidocSignatureSpan">parse5.SerializerStream.prototype.</span>_read
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_read = function () {
    this.serializer.serialize();
    this.push(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.default" id="apidoc.module.parse5.default">module parse5.default</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.default.adoptAttributes" id="apidoc.element.parse5.default.adoptAttributes">
        function <span class="apidocSignatureSpan">parse5.default.</span>adoptAttributes
        <span class="apidocSignatureSpan">(recipient, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">adoptAttributes = function (recipient, attrs) {
    var recipientAttrsMap = [];

    for (var i = 0; i &#x3c; recipient.attrs.length; i++)
        recipientAttrsMap.push(recipient.attrs[i].name);

    for (var j = 0; j &#x3c; attrs.length; j++) {
        if (recipientAttrsMap.indexOf(attrs[j].name) === -1)
            recipient.attrs.push(attrs[j]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p._reconstructActiveFormattingElements();
p._insertCharacters(token);
p.framesetOk = false;
}

function htmlStartTagInBody(p, token) {
if (p.openElements.tmplCount === 0)
    p.treeAdapter.<span class="apidocCodeKeywordSpan">adoptAttributes</span>(p.openElements.items[0], token.attrs);
}

function bodyStartTagInBody(p, token) {
var bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();

if (bodyElement &#x26;&#x26; p.openElements.tmplCount === 0) {
    p.framesetOk = false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.appendChild" id="apidoc.element.parse5.default.appendChild">
        function <span class="apidocSignatureSpan">parse5.default.</span>appendChild
        <span class="apidocSignatureSpan">(parentNode, newNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">appendChild = function (parentNode, newNode) {
    parentNode.childNodes.push(newNode);
    newNode.parentNode = parentNode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._attachElementToTree = function (element) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentElement(element);

else {
    var parent = this.openElements.currentTmplContent || this.openElements.current;

    this.treeAdapter.<span class="apidocCodeKeywordSpan">appendChild</span>(parent, element);
}
};

Parser.prototype._appendElement = function (token, namespaceURI) {
var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

this._attachElementToTree(element);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.createCommentNode" id="apidoc.element.parse5.default.createCommentNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>createCommentNode
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createCommentNode = function (data) {
    return {
        nodeName: &#x27;#comment&#x27;,
        data: data,
        parentNode: null
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var element = this.treeAdapter.createElement($.HTML, NS.HTML, []);

this.treeAdapter.appendChild(this.openElements.current, element);
this.openElements.push(element);
};

Parser.prototype._appendCommentNode = function (token, parent) {
var commentNode = this.treeAdapter.<span class="apidocCodeKeywordSpan">createCommentNode</span>(token.data);

this.treeAdapter.appendChild(parent, commentNode);
};

Parser.prototype._insertCharacters = function (token) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentText(token.chars);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.createDocument" id="apidoc.element.parse5.default.createDocument">
        function <span class="apidocSignatureSpan">parse5.default.</span>createDocument
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDocument = function () {
    return {
        nodeName: &#x27;#document&#x27;,
        mode: DOCUMENT_MODE.NO_QUIRKS,
        childNodes: []
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (this.options.locationInfo)
        locationInfoMixin.assign(this);
};

// API
Parser.prototype.parse = function (html) {
    var document = this.treeAdapter.<span class="apidocCodeKeywordSpan">createDocument</span>();

    this._bootstrap(document, null);
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    return document;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.createDocumentFragment" id="apidoc.element.parse5.default.createDocumentFragment">
        function <span class="apidocSignatureSpan">parse5.default.</span>createDocumentFragment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDocumentFragment = function () {
    return {
        nodeName: &#x27;#document-fragment&#x27;,
        childNodes: []
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._insertFakeRootElement();
    this._resetInsertionMode();
    this._findFormInFragmentContext();
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    var rootElement = this.treeAdapter.getFirstChild(documentMock),
        fragment = this.treeAdapter.<span class="apidocCodeKeywordSpan">createDocumentFragment</span>();

    this._adoptNodes(rootElement, fragment);

    return fragment;
};

//Bootstrap parser
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.createElement" id="apidoc.element.parse5.default.createElement">
        function <span class="apidocSignatureSpan">parse5.default.</span>createElement
        <span class="apidocSignatureSpan">(tagName, namespaceURI, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createElement = function (tagName, namespaceURI, attrs) {
    return {
        nodeName: tagName,
        tagName: tagName,
        attrs: attrs,
        namespaceURI: namespaceURI,
        childNodes: [],
        parentNode: null
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
//NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
//so we will parse in &#x22;forgiving&#x22; manner
if (!fragmentContext)
    fragmentContext = this.treeAdapter.<span class="apidocCodeKeywordSpan">createElement</span>($.TEMPLATE, NS.HTML, []);

//NOTE: create fake element which will be used as &#x27;document&#x27; for fragment parsing.
//This is important for jsdom there &#x27;document&#x27; can&#x27;t be recreated, therefore
//fragment parsing causes messing of the main `document`.
var documentMock = this.treeAdapter.createElement(&#x27;documentmock&#x27;, NS.HTML, []);

this._bootstrap(documentMock, fragmentContext);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.detachNode" id="apidoc.element.parse5.default.detachNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>detachNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detachNode = function (node) {
    if (node.parentNode) {
        var idx = node.parentNode.childNodes.indexOf(node);

        node.parentNode.childNodes.splice(idx, 1);
        node.parentNode = null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._adoptNodes = function (donor, recipient) {
while (true) {
    var child = this.treeAdapter.getFirstChild(donor);

    if (!child)
        break;

    this.treeAdapter.<span class="apidocCodeKeywordSpan">detachNode</span>(child);
    this.treeAdapter.appendChild(recipient, child);
}
};

//Token processing
Parser.prototype._shouldProcessTokenInForeignContent = function (token) {
var current = this._getAdjustedCurrentElement();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getAttrList" id="apidoc.element.parse5.default.getAttrList">
        function <span class="apidocSignatureSpan">parse5.default.</span>getAttrList
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAttrList = function (element) {
    return element.attrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* const parse = require(&#x27;parse5&#x27;);
* const http = require(&#x27;http&#x27;);
*
* const parser = new parse5.ParserStream();
*
* parser.on(&#x27;script&#x27;, (scriptElement, documentWrite, resume) =&#x3e; {
*     const src = parse5.treeAdapters.default.<span class="apidocCodeKeywordSpan">getAttrList</span>(scriptElement)[0].value;
*
*     http.get(src, res =&#x3e; {
*        // Fetch the script content, execute it with DOM built around `parser.document` and
*        // `document.write` implemented using `documentWrite`.
*        ...
*        // Then resume parsing.
*        resume();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getChildNodes" id="apidoc.element.parse5.default.getChildNodes">
        function <span class="apidocSignatureSpan">parse5.default.</span>getChildNodes
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getChildNodes = function (node) {
    return node.childNodes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    };


    //Doctype
    parser._setDocumentType = function (token) {
        parserProto._setDocumentType.call(this, token);

        var documentChildren = this.treeAdapter.<span class="apidocCodeKeywordSpan">getChildNodes</span>(this.document),
cnLength = documentChildren.length;

        for (var i = 0; i &#x3c; cnLength; i++) {
var node = documentChildren[i];

if (this.treeAdapter.isDocumentTypeNode(node)) {
    node.__location = token.location;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getCommentNodeContent" id="apidoc.element.parse5.default.getCommentNodeContent">
        function <span class="apidocSignatureSpan">parse5.default.</span>getCommentNodeContent
        <span class="apidocSignatureSpan">(commentNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCommentNodeContent = function (commentNode) {
    return commentNode.data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        this.html += content;

    else
        this.html += Serializer.escapeString(content, false);
};

Serializer.prototype._serializeCommentNode = function (node) {
    this.html += &#x27;&#x3c;!--&#x27; + this.treeAdapter.<span class="apidocCodeKeywordSpan">getCommentNodeContent</span>(node) + &#
x27;--&#x3e;&#x27;;
};

Serializer.prototype._serializeDocumentTypeNode = function (node) {
    var name = this.treeAdapter.getDocumentTypeNodeName(node);

    this.html += &#x27;&#x3c;&#x27; + doctype.serializeContent(name, null, null) + &#x27;&#x3e;&#x27;;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getDocumentMode" id="apidoc.element.parse5.default.getDocumentMode">
        function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentMode
        <span class="apidocSignatureSpan">(document)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentMode = function (document) {
    return document.mode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//12.2.5.4.1 The &#x22;initial&#x22; insertion mode
//------------------------------------------------------------------
function doctypeInInitialMode(p, token) {
    p._setDocumentType(token);

    var mode = token.forceQuirks ?
        HTML.DOCUMENT_MODE.QUIRKS :
        doctype.<span class="apidocCodeKeywordSpan">getDocumentMode</span>(token.name, token.publicId, token.systemId);

    p.treeAdapter.setDocumentMode(p.document, mode);

    p.insertionMode = BEFORE_HTML_MODE;
}

function tokenInInitialMode(p, token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getDocumentTypeNodeName" id="apidoc.element.parse5.default.getDocumentTypeNodeName">
        function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentTypeNodeName
        <span class="apidocSignatureSpan">(doctypeNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentTypeNodeName = function (doctypeNode) {
    return doctypeNode.name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Serializer.prototype._serializeCommentNode = function (node) {
    this.html += &#x27;&#x3c;!--&#x27; + this.treeAdapter.getCommentNodeContent(node) + &#x27;--&#x3e;&#x27;;
};

Serializer.prototype._serializeDocumentTypeNode = function (node) {
    var name = this.treeAdapter.<span class="apidocCodeKeywordSpan">getDocumentTypeNodeName</span>(node);

    this.html += &#x27;&#x3c;&#x27; + doctype.serializeContent(name, null, null) + &#x27;&#x3e;&#x27;;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getDocumentTypeNodePublicId" id="apidoc.element.parse5.default.getDocumentTypeNodePublicId">
        function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentTypeNodePublicId
        <span class="apidocSignatureSpan">(doctypeNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentTypeNodePublicId = function (doctypeNode) {
    return doctypeNode.publicId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getDocumentTypeNodeSystemId" id="apidoc.element.parse5.default.getDocumentTypeNodeSystemId">
        function <span class="apidocSignatureSpan">parse5.default.</span>getDocumentTypeNodeSystemId
        <span class="apidocSignatureSpan">(doctypeNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentTypeNodeSystemId = function (doctypeNode) {
    return doctypeNode.systemId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getFirstChild" id="apidoc.element.parse5.default.getFirstChild">
        function <span class="apidocSignatureSpan">parse5.default.</span>getFirstChild
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFirstChild = function (node) {
    return node.childNodes[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._initTokenizerForFragmentParsing();
    this._insertFakeRootElement();
    this._resetInsertionMode();
    this._findFormInFragmentContext();
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    var rootElement = this.treeAdapter.<span class="apidocCodeKeywordSpan">getFirstChild</span>(documentMock),
        fragment = this.treeAdapter.createDocumentFragment();

    this._adoptNodes(rootElement, fragment);

    return fragment;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getNamespaceURI" id="apidoc.element.parse5.default.getNamespaceURI">
        function <span class="apidocSignatureSpan">parse5.default.</span>getNamespaceURI
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNamespaceURI = function (element) {
    return element.namespaceURI;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//lightweight heuristics without thorough attributes check.
FormattingElementList.prototype._getNoahArkConditionCandidates = function (newElement) {
    var candidates = [];

    if (this.length &#x3e;= NOAH_ARK_CAPACITY) {
        var neAttrsLength = this.treeAdapter.getAttrList(newElement).length,
neTagName = this.treeAdapter.getTagName(newElement),
neNamespaceURI = this.treeAdapter.<span class="apidocCodeKeywordSpan">getNamespaceURI</span>(newElement);

        for (var i = this.length - 1; i &#x3e;= 0; i--) {
var entry = this.entries[i];

if (entry.type === FormattingElementList.MARKER_ENTRY)
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getParentNode" id="apidoc.element.parse5.default.getParentNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>getParentNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getParentNode = function (node) {
    return node.parentNode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

do {
    if (this.treeAdapter.getTagName(node) === $.FORM) {
        this.formElement = node;
        break;
    }

    node = this.treeAdapter.<span class="apidocCodeKeywordSpan">getParentNode</span>(node);
} while (node);
};

Parser.prototype._initTokenizerForFragmentParsing = function () {
if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {
    var tn = this.treeAdapter.getTagName(this.fragmentContext);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getTagName" id="apidoc.element.parse5.default.getTagName">
        function <span class="apidocSignatureSpan">parse5.default.</span>getTagName
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTagName = function (element) {
    return element.tagName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (loc.attrs)
    loc.startTag.attrs = loc.attrs;
        }

        if (closingToken.location) {
var ctLocation = closingToken.location,
    tn = treeAdapter.<span class="apidocCodeKeywordSpan">getTagName</span>(element),
// NOTE: For cases like &#x3c;p&#x3e; &#x3c;p&#x3e; &#x3c;/p&#x3e; - First &#x27;p&#x27; closes without a closing tag and
// for cases like &#x3c;td&#x3e; &#x3c;p&#x3e; &#x3c;/td&#x3e; - &#x27;p&#x27; closes without a closing tag
    isClosingEndTag = closingToken.type === Tokenizer.END_TAG_TOKEN &#x26;&#x26;
                      tn === closingToken.tagName;

if (isClosingEndTag) {
    loc.endTag = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getTemplateContent" id="apidoc.element.parse5.default.getTemplateContent">
        function <span class="apidocSignatureSpan">parse5.default.</span>getTemplateContent
        <span class="apidocSignatureSpan">(templateElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTemplateContent = function (templateElement) {
    return templateElement.content;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    parserProto._insertElement.call(this, token, namespaceURI);
};

parser._insertTemplate = function (token) {
    attachableElementLocation = token.location;
    parserProto._insertTemplate.call(this, token);

    var tmplContent = this.treeAdapter.<span class="apidocCodeKeywordSpan">getTemplateContent</span>(this.openElements.current);

    tmplContent.__location = null;
};

parser._insertFakeRootElement = function () {
    parserProto._insertFakeRootElement.call(this);
    this.openElements.current.__location = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.getTextNodeContent" id="apidoc.element.parse5.default.getTextNodeContent">
        function <span class="apidocSignatureSpan">parse5.default.</span>getTextNodeContent
        <span class="apidocSignatureSpan">(textNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTextNodeContent = function (textNode) {
    return textNode.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        this.html += attr.namespace + &#x27;:&#x27; + attr.name;

    this.html += &#x27;=&#x22;&#x27; + value + &#x27;&#x22;&#x27;;
}
};

Serializer.prototype._serializeTextNode = function (node) {
var content = this.treeAdapter.<span class="apidocCodeKeywordSpan">getTextNodeContent</span>(node),
    parent = this.treeAdapter.getParentNode(node),
    parentTn = void 0;

if (parent &#x26;&#x26; this.treeAdapter.isElementNode(parent))
    parentTn = this.treeAdapter.getTagName(parent);

if (parentTn === $.STYLE || parentTn === $.SCRIPT || parentTn === $.XMP || parentTn === $.IFRAME ||
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.insertBefore" id="apidoc.element.parse5.default.insertBefore">
        function <span class="apidocSignatureSpan">parse5.default.</span>insertBefore
        <span class="apidocSignatureSpan">(parentNode, newNode, referenceNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertBefore = function (parentNode, newNode, referenceNode) {
    var insertionIdx = parentNode.childNodes.indexOf(referenceNode);

    parentNode.childNodes.splice(insertionIdx, 0, newNode);
    newNode.parentNode = parentNode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return location;
};

Parser.prototype._fosterParentElement = function (element) {
var location = this._findFosterParentingLocation();

if (location.beforeElement)
    this.treeAdapter.<span class="apidocCodeKeywordSpan">insertBefore</span>(location.parent, element, location.beforeElement);
else
    this.treeAdapter.appendChild(location.parent, element);
};

Parser.prototype._fosterParentText = function (chars) {
var location = this._findFosterParentingLocation();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.insertText" id="apidoc.element.parse5.default.insertText">
        function <span class="apidocSignatureSpan">parse5.default.</span>insertText
        <span class="apidocSignatureSpan">(parentNode, text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertText = function (parentNode, text) {
    if (parentNode.childNodes.length) {
        var prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];

        if (prevNode.nodeName === &#x27;#text&#x27;) {
            prevNode.value += text;
            return;
        }
    }

    appendChild(parentNode, createTextNode(text));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._insertCharacters = function (token) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentText(token.chars);

else {
    var parent = this.openElements.currentTmplContent || this.openElements.current;

    this.treeAdapter.<span class="apidocCodeKeywordSpan">insertText</span>(parent, token.chars);
}
};

Parser.prototype._adoptNodes = function (donor, recipient) {
while (true) {
    var child = this.treeAdapter.getFirstChild(donor);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.insertTextBefore" id="apidoc.element.parse5.default.insertTextBefore">
        function <span class="apidocSignatureSpan">parse5.default.</span>insertTextBefore
        <span class="apidocSignatureSpan">(parentNode, text, referenceNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertTextBefore = function (parentNode, text, referenceNode) {
    var prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];

    if (prevNode &#x26;&#x26; prevNode.nodeName === &#x27;#text&#x27;)
        prevNode.value += text;
    else
        insertBefore(parentNode, createTextNode(text), referenceNode);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.treeAdapter.appendChild(location.parent, element);
};

Parser.prototype._fosterParentText = function (chars) {
var location = this._findFosterParentingLocation();

if (location.beforeElement)
    this.treeAdapter.<span class="apidocCodeKeywordSpan">insertTextBefore</span>(location.parent, chars, location.beforeElement);
else
    this.treeAdapter.insertText(location.parent, chars);
};

//Special elements
Parser.prototype._isSpecialElement = function (element) {
var tn = this.treeAdapter.getTagName(element),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.isCommentNode" id="apidoc.element.parse5.default.isCommentNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>isCommentNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCommentNode = function (node) {
    return node.nodeName === &#x27;#comment&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

            if (this.treeAdapter.isElementNode(currentNode))
                this._serializeElement(currentNode);

            else if (this.treeAdapter.isTextNode(currentNode))
                this._serializeTextNode(currentNode);

            else if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isCommentNode</span>(currentNode))
                this._serializeCommentNode(currentNode);

            else if (this.treeAdapter.isDocumentTypeNode(currentNode))
                this._serializeDocumentTypeNode(currentNode);
        }
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.isDocumentTypeNode" id="apidoc.element.parse5.default.isDocumentTypeNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>isDocumentTypeNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDocumentTypeNode = function (node) {
    return node.nodeName === &#x27;#documentType&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    var documentChildren = this.treeAdapter.getChildNodes(this.document),
        cnLength = documentChildren.length;

    for (var i = 0; i &#x3c; cnLength; i++) {
        var node = documentChildren[i];

        if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isDocumentTypeNode</span>(node)) {
            node.__location = token.location;
            break;
        }
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.isElementNode" id="apidoc.element.parse5.default.isElementNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>isElementNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isElementNode = function (node) {
    return !!node.tagName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Serializer.prototype._serializeChildNodes = function (parentNode) {
    var childNodes = this.treeAdapter.getChildNodes(parentNode);

    if (childNodes) {
        for (var i = 0, cnLength = childNodes.length; i &#x3c; cnLength; i++) {
var currentNode = childNodes[i];

if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isElementNode</span>(currentNode))
    this._serializeElement(currentNode);

else if (this.treeAdapter.isTextNode(currentNode))
    this._serializeTextNode(currentNode);

else if (this.treeAdapter.isCommentNode(currentNode))
    this._serializeCommentNode(currentNode);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.isTextNode" id="apidoc.element.parse5.default.isTextNode">
        function <span class="apidocSignatureSpan">parse5.default.</span>isTextNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTextNode = function (node) {
    return node.nodeName === &#x27;#text&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (childNodes) {
        for (var i = 0, cnLength = childNodes.length; i &#x3c; cnLength; i++) {
var currentNode = childNodes[i];

if (this.treeAdapter.isElementNode(currentNode))
    this._serializeElement(currentNode);

else if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isTextNode</span>(currentNode))
    this._serializeTextNode(currentNode);

else if (this.treeAdapter.isCommentNode(currentNode))
    this._serializeCommentNode(currentNode);

else if (this.treeAdapter.isDocumentTypeNode(currentNode))
    this._serializeDocumentTypeNode(currentNode);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.setDocumentMode" id="apidoc.element.parse5.default.setDocumentMode">
        function <span class="apidocSignatureSpan">parse5.default.</span>setDocumentMode
        <span class="apidocSignatureSpan">(document, mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDocumentMode = function (document, mode) {
    document.mode = mode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function doctypeInInitialMode(p, token) {
p._setDocumentType(token);

var mode = token.forceQuirks ?
    HTML.DOCUMENT_MODE.QUIRKS :
    doctype.getDocumentMode(token.name, token.publicId, token.systemId);

p.treeAdapter.<span class="apidocCodeKeywordSpan">setDocumentMode</span>(p.document, mode);

p.insertionMode = BEFORE_HTML_MODE;
}

function tokenInInitialMode(p, token) {
p.treeAdapter.setDocumentMode(p.document, HTML.DOCUMENT_MODE.QUIRKS);
p.insertionMode = BEFORE_HTML_MODE;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.setDocumentType" id="apidoc.element.parse5.default.setDocumentType">
        function <span class="apidocSignatureSpan">parse5.default.</span>setDocumentType
        <span class="apidocSignatureSpan">(document, name, publicId, systemId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDocumentType = function (document, name, publicId, systemId) {
    var doctypeNode = null;

    for (var i = 0; i &#x3c; document.childNodes.length; i++) {
        if (document.childNodes[i].nodeName === &#x27;#documentType&#x27;) {
            doctypeNode = document.childNodes[i];
            break;
        }
    }

    if (doctypeNode) {
        doctypeNode.name = name;
        doctypeNode.publicId = publicId;
        doctypeNode.systemId = systemId;
    }

    else {
        appendChild(document, {
            nodeName: &#x27;#documentType&#x27;,
            name: name,
            publicId: publicId,
            systemId: systemId
        });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    else if (tn === $.PLAINTEXT)
        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
}
};

//Tree mutation
Parser.prototype._setDocumentType = function (token) {
this.treeAdapter.<span class="apidocCodeKeywordSpan">setDocumentType</span>(this.document, token.name, token.publicId, token.systemId
);
};

Parser.prototype._attachElementToTree = function (element) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentElement(element);

else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.default.setTemplateContent" id="apidoc.element.parse5.default.setTemplateContent">
        function <span class="apidocSignatureSpan">parse5.default.</span>setTemplateContent
        <span class="apidocSignatureSpan">(templateElement, contentElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTemplateContent = function (templateElement, contentElement) {
    templateElement.content = contentElement;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.openElements.push(element);
};

Parser.prototype._insertTemplate = function (token) {
var tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs),
    content = this.treeAdapter.createDocumentFragment();

this.treeAdapter.<span class="apidocCodeKeywordSpan">setTemplateContent</span>(tmpl, content);
this._attachElementToTree(tmpl);
this.openElements.push(tmpl);
};

Parser.prototype._insertFakeRootElement = function () {
var element = this.treeAdapter.createElement($.HTML, NS.HTML, []);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.dev_null_stream" id="apidoc.module.parse5.dev_null_stream">module parse5.dev_null_stream</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.dev_null_stream.dev_null_stream" id="apidoc.element.parse5.dev_null_stream.dev_null_stream">
        function <span class="apidocSignatureSpan">parse5.</span>dev_null_stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dev_null_stream = function () {
    WritableStream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.dev_null_stream.super_" id="apidoc.element.parse5.dev_null_stream.super_">
        function <span class="apidocSignatureSpan">parse5.dev_null_stream.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Writable(options) {
  // Writable ctor is applied to Duplexes, too.
  // `realHasInstance` is necessary because using plain `instanceof`
  // would return false, as no `_writableState` property is attached.

  // Trying to use the custom `instanceof` for Writable here will also break the
  // Node.js LazyTransform implementation, which has a non-trivial getter for
  // `_writableState` that would lead to infinite recursion.
  if (!(realHasInstance.call(Writable, this)) &#x26;&#x26;
      !(this instanceof Stream.Duplex)) {
    return new Writable(options);
  }

  this._writableState = new WritableState(options, this);

  // legacy.
  this.writable = true;

  if (options) {
    if (typeof options.write === &#x27;function&#x27;)
      this._write = options.write;

    if (typeof options.writev === &#x27;function&#x27;)
      this._writev = options.writev;
  }

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.dev_null_stream.prototype" id="apidoc.module.parse5.dev_null_stream.prototype">module parse5.dev_null_stream.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.dev_null_stream.prototype._write" id="apidoc.element.parse5.dev_null_stream.prototype._write">
        function <span class="apidocSignatureSpan">parse5.dev_null_stream.prototype.</span>_write
        <span class="apidocSignatureSpan">(chunk, encoding, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_write = function (chunk, encoding, cb) {
    cb();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.doctype" id="apidoc.module.parse5.doctype">module parse5.doctype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.doctype.getDocumentMode" id="apidoc.element.parse5.doctype.getDocumentMode">
        function <span class="apidocSignatureSpan">parse5.doctype.</span>getDocumentMode
        <span class="apidocSignatureSpan">(name, publicId, systemId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentMode = function (name, publicId, systemId) {
    if (name !== VALID_DOCTYPE_NAME)
        return DOCUMENT_MODE.QUIRKS;

    if (systemId &#x26;&#x26; systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID)
        return DOCUMENT_MODE.QUIRKS;

    if (publicId !== null) {
        publicId = publicId.toLowerCase();

        if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) &#x3e; -1)
            return DOCUMENT_MODE.QUIRKS;

        var prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;

        if (hasPrefix(publicId, prefixes))
            return DOCUMENT_MODE.QUIRKS;

        prefixes = systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;

        if (hasPrefix(publicId, prefixes))
            return DOCUMENT_MODE.LIMITED_QUIRKS;
    }

    return DOCUMENT_MODE.NO_QUIRKS;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//12.2.5.4.1 The &#x22;initial&#x22; insertion mode
//------------------------------------------------------------------
function doctypeInInitialMode(p, token) {
    p._setDocumentType(token);

    var mode = token.forceQuirks ?
        HTML.DOCUMENT_MODE.QUIRKS :
        doctype.<span class="apidocCodeKeywordSpan">getDocumentMode</span>(token.name, token.publicId, token.systemId);

    p.treeAdapter.setDocumentMode(p.document, mode);

    p.insertionMode = BEFORE_HTML_MODE;
}

function tokenInInitialMode(p, token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.doctype.serializeContent" id="apidoc.element.parse5.doctype.serializeContent">
        function <span class="apidocSignatureSpan">parse5.doctype.</span>serializeContent
        <span class="apidocSignatureSpan">(name, publicId, systemId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serializeContent = function (name, publicId, systemId) {
    var str = &#x27;!DOCTYPE &#x27;;

    if (name)
        str += name;

    if (publicId !== null)
        str += &#x27; PUBLIC &#x27; + enquoteDoctypeId(publicId);

    else if (systemId !== null)
        str += &#x27; SYSTEM&#x27;;

    if (systemId !== null)
        str += &#x27; &#x27; + enquoteDoctypeId(systemId);

    return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Serializer.prototype._serializeCommentNode = function (node) {
    this.html += &#x27;&#x3c;!--&#x27; + this.treeAdapter.getCommentNodeContent(node) + &#x27;--&#x3e;&#x27;;
};

Serializer.prototype._serializeDocumentTypeNode = function (node) {
    var name = this.treeAdapter.getDocumentTypeNodeName(node);

    this.html += &#x27;&#x3c;&#x27; + doctype.<span class="apidocCodeKeywordSpan">serializeContent</span>(name, null, null) + &#
x27;&#x3e;&#x27;;
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.foreign_content" id="apidoc.module.parse5.foreign_content">module parse5.foreign_content</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.foreign_content.adjustTokenMathMLAttrs" id="apidoc.element.parse5.foreign_content.adjustTokenMathMLAttrs">
        function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenMathMLAttrs
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">adjustTokenMathMLAttrs = function (token) {
    for (var i = 0; i &#x3c; token.attrs.length; i++) {
        if (token.attrs[i].name === DEFINITION_URL_ATTR) {
            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;
            break;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    p._insertElement(token, NS.HTML);
}

function mathStartTagInBody(p, token) {
    p._reconstructActiveFormattingElements();

    foreignContent.<span class="apidocCodeKeywordSpan">adjustTokenMathMLAttrs</span>(token);
    foreignContent.adjustTokenXMLAttrs(token);

    if (token.selfClosing)
        p._appendElement(token, NS.MATHML);
    else
        p._insertElement(token, NS.MATHML);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.foreign_content.adjustTokenSVGAttrs" id="apidoc.element.parse5.foreign_content.adjustTokenSVGAttrs">
        function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenSVGAttrs
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">adjustTokenSVGAttrs = function (token) {
    for (var i = 0; i &#x3c; token.attrs.length; i++) {
        var adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

        if (adjustedAttrName)
            token.attrs[i].name = adjustedAttrName;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    else
        p._insertElement(token, NS.MATHML);
}

function svgStartTagInBody(p, token) {
    p._reconstructActiveFormattingElements();

    foreignContent.<span class="apidocCodeKeywordSpan">adjustTokenSVGAttrs</span>(token);
    foreignContent.adjustTokenXMLAttrs(token);

    if (token.selfClosing)
        p._appendElement(token, NS.SVG);
    else
        p._insertElement(token, NS.SVG);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.foreign_content.adjustTokenSVGTagName" id="apidoc.element.parse5.foreign_content.adjustTokenSVGTagName">
        function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenSVGTagName
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">adjustTokenSVGTagName = function (token) {
    var adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];

    if (adjustedTagName)
        token.tagName = adjustedTagName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var current = p._getAdjustedCurrentElement(),
    currentNs = p.treeAdapter.getNamespaceURI(current);

if (currentNs === NS.MATHML)
    foreignContent.adjustTokenMathMLAttrs(token);

else if (currentNs === NS.SVG) {
    foreignContent.<span class="apidocCodeKeywordSpan">adjustTokenSVGTagName</span>(token);
    foreignContent.adjustTokenSVGAttrs(token);
}

foreignContent.adjustTokenXMLAttrs(token);

if (token.selfClosing)
    p._appendElement(token, currentNs);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.foreign_content.adjustTokenXMLAttrs" id="apidoc.element.parse5.foreign_content.adjustTokenXMLAttrs">
        function <span class="apidocSignatureSpan">parse5.foreign_content.</span>adjustTokenXMLAttrs
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">adjustTokenXMLAttrs = function (token) {
    for (var i = 0; i &#x3c; token.attrs.length; i++) {
        var adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

        if (adjustedAttrEntry) {
            token.attrs[i].prefix = adjustedAttrEntry.prefix;
            token.attrs[i].name = adjustedAttrEntry.name;
            token.attrs[i].namespace = adjustedAttrEntry.namespace;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p._insertElement(token, NS.HTML);
}

function mathStartTagInBody(p, token) {
    p._reconstructActiveFormattingElements();

    foreignContent.adjustTokenMathMLAttrs(token);
    foreignContent.<span class="apidocCodeKeywordSpan">adjustTokenXMLAttrs</span>(token);

    if (token.selfClosing)
        p._appendElement(token, NS.MATHML);
    else
        p._insertElement(token, NS.MATHML);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.foreign_content.causesExit" id="apidoc.element.parse5.foreign_content.causesExit">
        function <span class="apidocSignatureSpan">parse5.foreign_content.</span>causesExit
        <span class="apidocSignatureSpan">(startTagToken)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">causesExit = function (startTagToken) {
    var tn = startTagToken.tagName;
    var isFontWithAttrs = tn === $.FONT &#x26;&#x26; (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null ||
                                            Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null ||
                                            Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);

    return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function characterInForeignContent(p, token) {
p._insertCharacters(token);
p.framesetOk = false;
}

function startTagInForeignContent(p, token) {
if (foreignContent.<span class="apidocCodeKeywordSpan">causesExit</span>(token) &#x26;&#x26; !p.fragmentContext) {
    while (p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &#x26;&#x26; !p._isIntegrationPoint(p.openElements.
current))
        p.openElements.pop();

    p._processToken(token);
}

else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.foreign_content.isIntegrationPoint" id="apidoc.element.parse5.foreign_content.isIntegrationPoint">
        function <span class="apidocSignatureSpan">parse5.foreign_content.</span>isIntegrationPoint
        <span class="apidocSignatureSpan">(tn, ns, attrs, foreignNS)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isIntegrationPoint = function (tn, ns, attrs, foreignNS) {
    if ((!foreignNS || foreignNS === NS.HTML) &#x26;&#x26; isHtmlIntegrationPoint(tn, ns, attrs))
        return true;

    if ((!foreignNS || foreignNS === NS.MATHML) &#x26;&#x26; isMathMLTextIntegrationPoint(tn, ns))
        return true;

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//Integration points
Parser.prototype._isIntegrationPoint = function (element, foreignNS) {
var tn = this.treeAdapter.getTagName(element),
    ns = this.treeAdapter.getNamespaceURI(element),
    attrs = this.treeAdapter.getAttrList(element);

return foreignContent.<span class="apidocCodeKeywordSpan">isIntegrationPoint</span>(tn, ns, attrs, foreignNS);
};

//Active formatting elements reconstruction
Parser.prototype._reconstructActiveFormattingElements = function () {
var listLength = this.activeFormattingElements.length;

if (listLength) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.formatting_element_list" id="apidoc.module.parse5.formatting_element_list">module parse5.formatting_element_list</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.formatting_element_list" id="apidoc.element.parse5.formatting_element_list.formatting_element_list">
        function <span class="apidocSignatureSpan">parse5.</span>formatting_element_list
        <span class="apidocSignatureSpan">(treeAdapter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">formatting_element_list = function (treeAdapter) {
    this.length = 0;
    this.entries = [];
    this.treeAdapter = treeAdapter;
    this.bookmark = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.formatting_element_list.prototype" id="apidoc.module.parse5.formatting_element_list.prototype">module parse5.formatting_element_list.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype._ensureNoahArkCondition" id="apidoc.element.parse5.formatting_element_list.prototype._ensureNoahArkCondition">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>_ensureNoahArkCondition
        <span class="apidocSignatureSpan">(newElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_ensureNoahArkCondition = function (newElement) {
    var candidates = this._getNoahArkConditionCandidates(newElement),
        cLength = candidates.length;

    if (cLength) {
        var neAttrs = this.treeAdapter.getAttrList(newElement),
            neAttrsLength = neAttrs.length,
            neAttrsMap = Object.create(null);

        //NOTE: build attrs map for the new element so we can perform fast lookups
        for (var i = 0; i &#x3c; neAttrsLength; i++) {
            var neAttr = neAttrs[i];

            neAttrsMap[neAttr.name] = neAttr.value;
        }

        for (i = 0; i &#x3c; neAttrsLength; i++) {
            for (var j = 0; j &#x3c; cLength; j++) {
                var cAttr = candidates[j].attrs[i];

                if (neAttrsMap[cAttr.name] !== cAttr.value) {
                    candidates.splice(j, 1);
                    cLength--;
                }

                if (candidates.length &#x3c; NOAH_ARK_CAPACITY)
                    return;
            }
        }

        //NOTE: remove bottommost candidates until Noah&#x27;s Ark condition will not be met
        for (i = cLength - 1; i &#x3e;= NOAH_ARK_CAPACITY - 1; i--) {
            this.entries.splice(candidates[i].idx, 1);
            this.length--;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//Mutations
FormattingElementList.prototype.insertMarker = function () {
this.entries.push({type: FormattingElementList.MARKER_ENTRY});
this.length++;
};

FormattingElementList.prototype.pushElement = function (element, token) {
this.<span class="apidocCodeKeywordSpan">_ensureNoahArkCondition</span>(element);

this.entries.push({
    type: FormattingElementList.ELEMENT_ENTRY,
    element: element,
    token: token
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype._getNoahArkConditionCandidates" id="apidoc.element.parse5.formatting_element_list.prototype._getNoahArkConditionCandidates">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>_getNoahArkConditionCandidates
        <span class="apidocSignatureSpan">(newElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getNoahArkConditionCandidates = function (newElement) {
    var candidates = [];

    if (this.length &#x3e;= NOAH_ARK_CAPACITY) {
        var neAttrsLength = this.treeAdapter.getAttrList(newElement).length,
            neTagName = this.treeAdapter.getTagName(newElement),
            neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);

        for (var i = this.length - 1; i &#x3e;= 0; i--) {
            var entry = this.entries[i];

            if (entry.type === FormattingElementList.MARKER_ENTRY)
                break;

            var element = entry.element,
                elementAttrs = this.treeAdapter.getAttrList(element),
                isCandidate = this.treeAdapter.getTagName(element) === neTagName &#x26;&#x26;
                              this.treeAdapter.getNamespaceURI(element) === neNamespaceURI &#x26;&#x26;
                              elementAttrs.length === neAttrsLength;

            if (isCandidate)
                candidates.push({idx: i, attrs: elementAttrs});
        }
    }

    return candidates.length &#x3c; NOAH_ARK_CAPACITY ? [] : candidates;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
}

return candidates.length &#x3c; NOAH_ARK_CAPACITY ? [] : candidates;
};

FormattingElementList.prototype._ensureNoahArkCondition = function (newElement) {
var candidates = this.<span class="apidocCodeKeywordSpan">_getNoahArkConditionCandidates</span>(newElement),
    cLength = candidates.length;

if (cLength) {
    var neAttrs = this.treeAdapter.getAttrList(newElement),
        neAttrsLength = neAttrs.length,
        neAttrsMap = Object.create(null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.clearToLastMarker" id="apidoc.element.parse5.formatting_element_list.prototype.clearToLastMarker">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>clearToLastMarker
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearToLastMarker = function () {
    while (this.length) {
        var entry = this.entries.pop();

        this.length--;

        if (entry.type === FormattingElementList.MARKER_ENTRY)
            break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
};

//Close elements
Parser.prototype._closeTableCell = function () {
    this.openElements.generateImpliedEndTags();
    this.openElements.popUntilTableCellPopped();
    this.activeFormattingElements.<span class="apidocCodeKeywordSpan">clearToLastMarker</span>();
    this.insertionMode = IN_ROW_MODE;
};

Parser.prototype._closePElement = function () {
    this.openElements.generateImpliedEndTagsWithExclusion($.P);
    this.openElements.popUntilTagNamePopped($.P);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.getElementEntry" id="apidoc.element.parse5.formatting_element_list.prototype.getElementEntry">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>getElementEntry
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getElementEntry = function (element) {
    for (var i = this.length - 1; i &#x3e;= 0; i--) {
        var entry = this.entries[i];

        if (entry.type === FormattingElementList.ELEMENT_ENTRY &#x26;&#x26; entry.element === element)
            return entry;
    }

    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var lastElement = furthestBlock,
nextElement = p.openElements.getCommonAncestor(furthestBlock);

    for (var i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {
//NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)
nextElement = p.openElements.getCommonAncestor(element);

var elementEntry = p.activeFormattingElements.<span class="apidocCodeKeywordSpan">getElementEntry</span>(element),
    counterOverflow = elementEntry &#x26;&#x26; i &#x3e;= AA_INNER_LOOP_ITER,
    shouldRemoveFromOpenElements = !elementEntry || counterOverflow;

if (shouldRemoveFromOpenElements) {
    if (counterOverflow)
        p.activeFormattingElements.removeEntry(elementEntry);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.getElementEntryInScopeWithTagName" id="apidoc.element.parse5.formatting_element_list.prototype.getElementEntryInScopeWithTagName">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>getElementEntryInScopeWithTagName
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getElementEntryInScopeWithTagName = function (tagName) {
    for (var i = this.length - 1; i &#x3e;= 0; i--) {
        var entry = this.entries[i];

        if (entry.type === FormattingElementList.MARKER_ENTRY)
            return null;

        if (this.treeAdapter.getTagName(entry.element) === tagName)
            return entry;
    }

    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//Adoption agency algorithm
//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)
//------------------------------------------------------------------

//Steps 5-8 of the algorithm
function aaObtainFormattingElementEntry(p, token) {
var formattingElementEntry = p.activeFormattingElements.<span class="apidocCodeKeywordSpan">getElementEntryInScopeWithTagName</span
>(token.tagName);

if (formattingElementEntry) {
    if (!p.openElements.contains(formattingElementEntry.element)) {
        p.activeFormattingElements.removeEntry(formattingElementEntry);
        formattingElementEntry = null;
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.insertElementAfterBookmark" id="apidoc.element.parse5.formatting_element_list.prototype.insertElementAfterBookmark">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>insertElementAfterBookmark
        <span class="apidocSignatureSpan">(element, token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertElementAfterBookmark = function (element, token) {
    var bookmarkIdx = this.length - 1;

    for (; bookmarkIdx &#x3e;= 0; bookmarkIdx--) {
        if (this.entries[bookmarkIdx] === this.bookmark)
            break;
    }

    this.entries.splice(bookmarkIdx + 1, 0, {
        type: FormattingElementList.ELEMENT_ENTRY,
        element: element,
        token: token
    });

    this.length++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element),
        token = formattingElementEntry.token,
        newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);

    p._adoptNodes(furthestBlock, newElement);
    p.treeAdapter.appendChild(furthestBlock, newElement);

    p.activeFormattingElements.<span class="apidocCodeKeywordSpan">insertElementAfterBookmark</span>(newElement, formattingElementEntry
.token);
    p.activeFormattingElements.removeEntry(formattingElementEntry);

    p.openElements.remove(formattingElementEntry.element);
    p.openElements.insertAfter(furthestBlock, newElement);
}

//Algorithm entry point
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.insertMarker" id="apidoc.element.parse5.formatting_element_list.prototype.insertMarker">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>insertMarker
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertMarker = function () {
    this.entries.push({type: FormattingElementList.MARKER_ENTRY});
    this.length++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);

else if (tn === $.SCRIPT)
    p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);

else if (tn === $.TEMPLATE) {
    p._insertTemplate(token, NS.HTML);
    p.activeFormattingElements.<span class="apidocCodeKeywordSpan">insertMarker</span>();
    p.framesetOk = false;
    p.insertionMode = IN_TEMPLATE_MODE;
    p._pushTmplInsertionMode(IN_TEMPLATE_MODE);
}

else if (tn !== $.HEAD)
    tokenInHead(p, token);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.pushElement" id="apidoc.element.parse5.formatting_element_list.prototype.pushElement">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>pushElement
        <span class="apidocSignatureSpan">(element, token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushElement = function (element, token) {
    this._ensureNoahArkCondition(element);

    this.entries.push({
        type: FormattingElementList.ELEMENT_ENTRY,
        element: element,
        token: token
    });

    this.length++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        callAdoptionAgency(p, token);
        p.openElements.remove(activeElementEntry.element);
        p.activeFormattingElements.removeEntry(activeElementEntry);
    }

    p._reconstructActiveFormattingElements();
    p._insertElement(token, NS.HTML);
    p.activeFormattingElements.<span class="apidocCodeKeywordSpan">pushElement</span>(p.openElements.current, token);
}

function bStartTagInBody(p, token) {
    p._reconstructActiveFormattingElements();
    p._insertElement(token, NS.HTML);
    p.activeFormattingElements.pushElement(p.openElements.current, token);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.formatting_element_list.prototype.removeEntry" id="apidoc.element.parse5.formatting_element_list.prototype.removeEntry">
        function <span class="apidocSignatureSpan">parse5.formatting_element_list.prototype.</span>removeEntry
        <span class="apidocSignatureSpan">(entry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeEntry = function (entry) {
    for (var i = this.length - 1; i &#x3e;= 0; i--) {
        if (this.entries[i] === entry) {
            this.entries.splice(i, 1);
            this.length--;
            break;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//Steps 5-8 of the algorithm
function aaObtainFormattingElementEntry(p, token) {
var formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);

if (formattingElementEntry) {
    if (!p.openElements.contains(formattingElementEntry.element)) {
        p.activeFormattingElements.<span class="apidocCodeKeywordSpan">removeEntry</span>(formattingElementEntry);
        formattingElementEntry = null;
    }

    else if (!p.openElements.hasInScope(token.tagName))
        formattingElementEntry = null;
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.htmlparser2" id="apidoc.module.parse5.htmlparser2">module parse5.htmlparser2</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.adoptAttributes" id="apidoc.element.parse5.htmlparser2.adoptAttributes">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>adoptAttributes
        <span class="apidocSignatureSpan">(recipient, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">adoptAttributes = function (recipient, attrs) {
    for (var i = 0; i &#x3c; attrs.length; i++) {
        var attrName = attrs[i].name;

        if (typeof recipient.attribs[attrName] === &#x27;undefined&#x27;) {
            recipient.attribs[attrName] = attrs[i].value;
            recipient[&#x27;x-attribsNamespace&#x27;][attrName] = attrs[i].namespace;
            recipient[&#x27;x-attribsPrefix&#x27;][attrName] = attrs[i].prefix;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p._reconstructActiveFormattingElements();
p._insertCharacters(token);
p.framesetOk = false;
}

function htmlStartTagInBody(p, token) {
if (p.openElements.tmplCount === 0)
    p.treeAdapter.<span class="apidocCodeKeywordSpan">adoptAttributes</span>(p.openElements.items[0], token.attrs);
}

function bodyStartTagInBody(p, token) {
var bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();

if (bodyElement &#x26;&#x26; p.openElements.tmplCount === 0) {
    p.framesetOk = false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.appendChild" id="apidoc.element.parse5.htmlparser2.appendChild">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>appendChild
        <span class="apidocSignatureSpan">(parentNode, newNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">appendChild = function (parentNode, newNode) {
    var prev = parentNode.children[parentNode.children.length - 1];

    if (prev) {
        prev.next = newNode;
        newNode.prev = prev;
    }

    parentNode.children.push(newNode);
    newNode.parent = parentNode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._attachElementToTree = function (element) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentElement(element);

else {
    var parent = this.openElements.currentTmplContent || this.openElements.current;

    this.treeAdapter.<span class="apidocCodeKeywordSpan">appendChild</span>(parent, element);
}
};

Parser.prototype._appendElement = function (token, namespaceURI) {
var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

this._attachElementToTree(element);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.createCommentNode" id="apidoc.element.parse5.htmlparser2.createCommentNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createCommentNode
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createCommentNode = function (data) {
    return new Node({
        type: &#x27;comment&#x27;,
        data: data,
        parent: null,
        prev: null,
        next: null
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var element = this.treeAdapter.createElement($.HTML, NS.HTML, []);

this.treeAdapter.appendChild(this.openElements.current, element);
this.openElements.push(element);
};

Parser.prototype._appendCommentNode = function (token, parent) {
var commentNode = this.treeAdapter.<span class="apidocCodeKeywordSpan">createCommentNode</span>(token.data);

this.treeAdapter.appendChild(parent, commentNode);
};

Parser.prototype._insertCharacters = function (token) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentText(token.chars);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.createDocument" id="apidoc.element.parse5.htmlparser2.createDocument">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createDocument
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDocument = function () {
    return new Node({
        type: &#x27;root&#x27;,
        name: &#x27;root&#x27;,
        parent: null,
        prev: null,
        next: null,
        children: [],
        &#x27;x-mode&#x27;: DOCUMENT_MODE.NO_QUIRKS
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (this.options.locationInfo)
        locationInfoMixin.assign(this);
};

// API
Parser.prototype.parse = function (html) {
    var document = this.treeAdapter.<span class="apidocCodeKeywordSpan">createDocument</span>();

    this._bootstrap(document, null);
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    return document;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.createDocumentFragment" id="apidoc.element.parse5.htmlparser2.createDocumentFragment">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createDocumentFragment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDocumentFragment = function () {
    return new Node({
        type: &#x27;root&#x27;,
        name: &#x27;root&#x27;,
        parent: null,
        prev: null,
        next: null,
        children: []
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._insertFakeRootElement();
    this._resetInsertionMode();
    this._findFormInFragmentContext();
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    var rootElement = this.treeAdapter.getFirstChild(documentMock),
        fragment = this.treeAdapter.<span class="apidocCodeKeywordSpan">createDocumentFragment</span>();

    this._adoptNodes(rootElement, fragment);

    return fragment;
};

//Bootstrap parser
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.createElement" id="apidoc.element.parse5.htmlparser2.createElement">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>createElement
        <span class="apidocSignatureSpan">(tagName, namespaceURI, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createElement = function (tagName, namespaceURI, attrs) {
    var attribs = Object.create(null),
        attribsNamespace = Object.create(null),
        attribsPrefix = Object.create(null);

    for (var i = 0; i &#x3c; attrs.length; i++) {
        var attrName = attrs[i].name;

        attribs[attrName] = attrs[i].value;
        attribsNamespace[attrName] = attrs[i].namespace;
        attribsPrefix[attrName] = attrs[i].prefix;
    }

    return new Node({
        type: tagName === &#x27;script&#x27; || tagName === &#x27;style&#x27; ? tagName : &#x27;tag&#x27;,
        name: tagName,
        namespace: namespaceURI,
        attribs: attribs,
        &#x27;x-attribsNamespace&#x27;: attribsNamespace,
        &#x27;x-attribsPrefix&#x27;: attribsPrefix,
        children: [],
        parent: null,
        prev: null,
        next: null
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
//NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
//so we will parse in &#x22;forgiving&#x22; manner
if (!fragmentContext)
    fragmentContext = this.treeAdapter.<span class="apidocCodeKeywordSpan">createElement</span>($.TEMPLATE, NS.HTML, []);

//NOTE: create fake element which will be used as &#x27;document&#x27; for fragment parsing.
//This is important for jsdom there &#x27;document&#x27; can&#x27;t be recreated, therefore
//fragment parsing causes messing of the main `document`.
var documentMock = this.treeAdapter.createElement(&#x27;documentmock&#x27;, NS.HTML, []);

this._bootstrap(documentMock, fragmentContext);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.detachNode" id="apidoc.element.parse5.htmlparser2.detachNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>detachNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detachNode = function (node) {
    if (node.parent) {
        var idx = node.parent.children.indexOf(node),
            prev = node.prev,
            next = node.next;

        node.prev = null;
        node.next = null;

        if (prev)
            prev.next = next;

        if (next)
            next.prev = prev;

        node.parent.children.splice(idx, 1);
        node.parent = null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._adoptNodes = function (donor, recipient) {
while (true) {
    var child = this.treeAdapter.getFirstChild(donor);

    if (!child)
        break;

    this.treeAdapter.<span class="apidocCodeKeywordSpan">detachNode</span>(child);
    this.treeAdapter.appendChild(recipient, child);
}
};

//Token processing
Parser.prototype._shouldProcessTokenInForeignContent = function (token) {
var current = this._getAdjustedCurrentElement();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getAttrList" id="apidoc.element.parse5.htmlparser2.getAttrList">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getAttrList
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAttrList = function (element) {
    var attrList = [];

    for (var name in element.attribs) {
        attrList.push({
            name: name,
            value: element.attribs[name],
            namespace: element[&#x27;x-attribsNamespace&#x27;][name],
            prefix: element[&#x27;x-attribsPrefix&#x27;][name]
        });
    }

    return attrList;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* const parse = require(&#x27;parse5&#x27;);
* const http = require(&#x27;http&#x27;);
*
* const parser = new parse5.ParserStream();
*
* parser.on(&#x27;script&#x27;, (scriptElement, documentWrite, resume) =&#x3e; {
*     const src = parse5.treeAdapters.default.<span class="apidocCodeKeywordSpan">getAttrList</span>(scriptElement)[0].value;
*
*     http.get(src, res =&#x3e; {
*        // Fetch the script content, execute it with DOM built around `parser.document` and
*        // `document.write` implemented using `documentWrite`.
*        ...
*        // Then resume parsing.
*        resume();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getChildNodes" id="apidoc.element.parse5.htmlparser2.getChildNodes">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getChildNodes
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getChildNodes = function (node) {
    return node.children;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    };


    //Doctype
    parser._setDocumentType = function (token) {
        parserProto._setDocumentType.call(this, token);

        var documentChildren = this.treeAdapter.<span class="apidocCodeKeywordSpan">getChildNodes</span>(this.document),
cnLength = documentChildren.length;

        for (var i = 0; i &#x3c; cnLength; i++) {
var node = documentChildren[i];

if (this.treeAdapter.isDocumentTypeNode(node)) {
    node.__location = token.location;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getCommentNodeContent" id="apidoc.element.parse5.htmlparser2.getCommentNodeContent">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getCommentNodeContent
        <span class="apidocSignatureSpan">(commentNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCommentNodeContent = function (commentNode) {
    return commentNode.data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        this.html += content;

    else
        this.html += Serializer.escapeString(content, false);
};

Serializer.prototype._serializeCommentNode = function (node) {
    this.html += &#x27;&#x3c;!--&#x27; + this.treeAdapter.<span class="apidocCodeKeywordSpan">getCommentNodeContent</span>(node) + &#
x27;--&#x3e;&#x27;;
};

Serializer.prototype._serializeDocumentTypeNode = function (node) {
    var name = this.treeAdapter.getDocumentTypeNodeName(node);

    this.html += &#x27;&#x3c;&#x27; + doctype.serializeContent(name, null, null) + &#x27;&#x3e;&#x27;;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getDocumentMode" id="apidoc.element.parse5.htmlparser2.getDocumentMode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentMode
        <span class="apidocSignatureSpan">(document)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentMode = function (document) {
    return document[&#x27;x-mode&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//12.2.5.4.1 The &#x22;initial&#x22; insertion mode
//------------------------------------------------------------------
function doctypeInInitialMode(p, token) {
    p._setDocumentType(token);

    var mode = token.forceQuirks ?
        HTML.DOCUMENT_MODE.QUIRKS :
        doctype.<span class="apidocCodeKeywordSpan">getDocumentMode</span>(token.name, token.publicId, token.systemId);

    p.treeAdapter.setDocumentMode(p.document, mode);

    p.insertionMode = BEFORE_HTML_MODE;
}

function tokenInInitialMode(p, token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getDocumentTypeNodeName" id="apidoc.element.parse5.htmlparser2.getDocumentTypeNodeName">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentTypeNodeName
        <span class="apidocSignatureSpan">(doctypeNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentTypeNodeName = function (doctypeNode) {
    return doctypeNode[&#x27;x-name&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Serializer.prototype._serializeCommentNode = function (node) {
    this.html += &#x27;&#x3c;!--&#x27; + this.treeAdapter.getCommentNodeContent(node) + &#x27;--&#x3e;&#x27;;
};

Serializer.prototype._serializeDocumentTypeNode = function (node) {
    var name = this.treeAdapter.<span class="apidocCodeKeywordSpan">getDocumentTypeNodeName</span>(node);

    this.html += &#x27;&#x3c;&#x27; + doctype.serializeContent(name, null, null) + &#x27;&#x3e;&#x27;;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getDocumentTypeNodePublicId" id="apidoc.element.parse5.htmlparser2.getDocumentTypeNodePublicId">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentTypeNodePublicId
        <span class="apidocSignatureSpan">(doctypeNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentTypeNodePublicId = function (doctypeNode) {
    return doctypeNode[&#x27;x-publicId&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getDocumentTypeNodeSystemId" id="apidoc.element.parse5.htmlparser2.getDocumentTypeNodeSystemId">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getDocumentTypeNodeSystemId
        <span class="apidocSignatureSpan">(doctypeNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDocumentTypeNodeSystemId = function (doctypeNode) {
    return doctypeNode[&#x27;x-systemId&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getFirstChild" id="apidoc.element.parse5.htmlparser2.getFirstChild">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getFirstChild
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFirstChild = function (node) {
    return node.children[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._initTokenizerForFragmentParsing();
    this._insertFakeRootElement();
    this._resetInsertionMode();
    this._findFormInFragmentContext();
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    var rootElement = this.treeAdapter.<span class="apidocCodeKeywordSpan">getFirstChild</span>(documentMock),
        fragment = this.treeAdapter.createDocumentFragment();

    this._adoptNodes(rootElement, fragment);

    return fragment;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getNamespaceURI" id="apidoc.element.parse5.htmlparser2.getNamespaceURI">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getNamespaceURI
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNamespaceURI = function (element) {
    return element.namespace;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//lightweight heuristics without thorough attributes check.
FormattingElementList.prototype._getNoahArkConditionCandidates = function (newElement) {
    var candidates = [];

    if (this.length &#x3e;= NOAH_ARK_CAPACITY) {
        var neAttrsLength = this.treeAdapter.getAttrList(newElement).length,
neTagName = this.treeAdapter.getTagName(newElement),
neNamespaceURI = this.treeAdapter.<span class="apidocCodeKeywordSpan">getNamespaceURI</span>(newElement);

        for (var i = this.length - 1; i &#x3e;= 0; i--) {
var entry = this.entries[i];

if (entry.type === FormattingElementList.MARKER_ENTRY)
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getParentNode" id="apidoc.element.parse5.htmlparser2.getParentNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getParentNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getParentNode = function (node) {
    return node.parent;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

do {
    if (this.treeAdapter.getTagName(node) === $.FORM) {
        this.formElement = node;
        break;
    }

    node = this.treeAdapter.<span class="apidocCodeKeywordSpan">getParentNode</span>(node);
} while (node);
};

Parser.prototype._initTokenizerForFragmentParsing = function () {
if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {
    var tn = this.treeAdapter.getTagName(this.fragmentContext);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getTagName" id="apidoc.element.parse5.htmlparser2.getTagName">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getTagName
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTagName = function (element) {
    return element.name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (loc.attrs)
    loc.startTag.attrs = loc.attrs;
        }

        if (closingToken.location) {
var ctLocation = closingToken.location,
    tn = treeAdapter.<span class="apidocCodeKeywordSpan">getTagName</span>(element),
// NOTE: For cases like &#x3c;p&#x3e; &#x3c;p&#x3e; &#x3c;/p&#x3e; - First &#x27;p&#x27; closes without a closing tag and
// for cases like &#x3c;td&#x3e; &#x3c;p&#x3e; &#x3c;/td&#x3e; - &#x27;p&#x27; closes without a closing tag
    isClosingEndTag = closingToken.type === Tokenizer.END_TAG_TOKEN &#x26;&#x26;
                      tn === closingToken.tagName;

if (isClosingEndTag) {
    loc.endTag = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getTemplateContent" id="apidoc.element.parse5.htmlparser2.getTemplateContent">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getTemplateContent
        <span class="apidocSignatureSpan">(templateElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTemplateContent = function (templateElement) {
    return templateElement.children[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    parserProto._insertElement.call(this, token, namespaceURI);
};

parser._insertTemplate = function (token) {
    attachableElementLocation = token.location;
    parserProto._insertTemplate.call(this, token);

    var tmplContent = this.treeAdapter.<span class="apidocCodeKeywordSpan">getTemplateContent</span>(this.openElements.current);

    tmplContent.__location = null;
};

parser._insertFakeRootElement = function () {
    parserProto._insertFakeRootElement.call(this);
    this.openElements.current.__location = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.getTextNodeContent" id="apidoc.element.parse5.htmlparser2.getTextNodeContent">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>getTextNodeContent
        <span class="apidocSignatureSpan">(textNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTextNodeContent = function (textNode) {
    return textNode.data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        this.html += attr.namespace + &#x27;:&#x27; + attr.name;

    this.html += &#x27;=&#x22;&#x27; + value + &#x27;&#x22;&#x27;;
}
};

Serializer.prototype._serializeTextNode = function (node) {
var content = this.treeAdapter.<span class="apidocCodeKeywordSpan">getTextNodeContent</span>(node),
    parent = this.treeAdapter.getParentNode(node),
    parentTn = void 0;

if (parent &#x26;&#x26; this.treeAdapter.isElementNode(parent))
    parentTn = this.treeAdapter.getTagName(parent);

if (parentTn === $.STYLE || parentTn === $.SCRIPT || parentTn === $.XMP || parentTn === $.IFRAME ||
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.insertBefore" id="apidoc.element.parse5.htmlparser2.insertBefore">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>insertBefore
        <span class="apidocSignatureSpan">(parentNode, newNode, referenceNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertBefore = function (parentNode, newNode, referenceNode) {
    var insertionIdx = parentNode.children.indexOf(referenceNode),
        prev = referenceNode.prev;

    if (prev) {
        prev.next = newNode;
        newNode.prev = prev;
    }

    referenceNode.prev = newNode;
    newNode.next = referenceNode;

    parentNode.children.splice(insertionIdx, 0, newNode);
    newNode.parent = parentNode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return location;
};

Parser.prototype._fosterParentElement = function (element) {
var location = this._findFosterParentingLocation();

if (location.beforeElement)
    this.treeAdapter.<span class="apidocCodeKeywordSpan">insertBefore</span>(location.parent, element, location.beforeElement);
else
    this.treeAdapter.appendChild(location.parent, element);
};

Parser.prototype._fosterParentText = function (chars) {
var location = this._findFosterParentingLocation();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.insertText" id="apidoc.element.parse5.htmlparser2.insertText">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>insertText
        <span class="apidocSignatureSpan">(parentNode, text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertText = function (parentNode, text) {
    var lastChild = parentNode.children[parentNode.children.length - 1];

    if (lastChild &#x26;&#x26; lastChild.type === &#x27;text&#x27;)
        lastChild.data += text;
    else
        appendChild(parentNode, createTextNode(text));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._insertCharacters = function (token) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentText(token.chars);

else {
    var parent = this.openElements.currentTmplContent || this.openElements.current;

    this.treeAdapter.<span class="apidocCodeKeywordSpan">insertText</span>(parent, token.chars);
}
};

Parser.prototype._adoptNodes = function (donor, recipient) {
while (true) {
    var child = this.treeAdapter.getFirstChild(donor);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.insertTextBefore" id="apidoc.element.parse5.htmlparser2.insertTextBefore">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>insertTextBefore
        <span class="apidocSignatureSpan">(parentNode, text, referenceNode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertTextBefore = function (parentNode, text, referenceNode) {
    var prevNode = parentNode.children[parentNode.children.indexOf(referenceNode) - 1];

    if (prevNode &#x26;&#x26; prevNode.type === &#x27;text&#x27;)
        prevNode.data += text;
    else
        insertBefore(parentNode, createTextNode(text), referenceNode);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.treeAdapter.appendChild(location.parent, element);
};

Parser.prototype._fosterParentText = function (chars) {
var location = this._findFosterParentingLocation();

if (location.beforeElement)
    this.treeAdapter.<span class="apidocCodeKeywordSpan">insertTextBefore</span>(location.parent, chars, location.beforeElement);
else
    this.treeAdapter.insertText(location.parent, chars);
};

//Special elements
Parser.prototype._isSpecialElement = function (element) {
var tn = this.treeAdapter.getTagName(element),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.isCommentNode" id="apidoc.element.parse5.htmlparser2.isCommentNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isCommentNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCommentNode = function (node) {
    return node.type === &#x27;comment&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

            if (this.treeAdapter.isElementNode(currentNode))
                this._serializeElement(currentNode);

            else if (this.treeAdapter.isTextNode(currentNode))
                this._serializeTextNode(currentNode);

            else if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isCommentNode</span>(currentNode))
                this._serializeCommentNode(currentNode);

            else if (this.treeAdapter.isDocumentTypeNode(currentNode))
                this._serializeDocumentTypeNode(currentNode);
        }
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.isDocumentTypeNode" id="apidoc.element.parse5.htmlparser2.isDocumentTypeNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isDocumentTypeNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDocumentTypeNode = function (node) {
    return node.type === &#x27;directive&#x27; &#x26;&#x26; node.name === &#x27;!doctype&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    var documentChildren = this.treeAdapter.getChildNodes(this.document),
        cnLength = documentChildren.length;

    for (var i = 0; i &#x3c; cnLength; i++) {
        var node = documentChildren[i];

        if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isDocumentTypeNode</span>(node)) {
            node.__location = token.location;
            break;
        }
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.isElementNode" id="apidoc.element.parse5.htmlparser2.isElementNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isElementNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isElementNode = function (node) {
    return !!node.attribs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Serializer.prototype._serializeChildNodes = function (parentNode) {
    var childNodes = this.treeAdapter.getChildNodes(parentNode);

    if (childNodes) {
        for (var i = 0, cnLength = childNodes.length; i &#x3c; cnLength; i++) {
var currentNode = childNodes[i];

if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isElementNode</span>(currentNode))
    this._serializeElement(currentNode);

else if (this.treeAdapter.isTextNode(currentNode))
    this._serializeTextNode(currentNode);

else if (this.treeAdapter.isCommentNode(currentNode))
    this._serializeCommentNode(currentNode);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.isTextNode" id="apidoc.element.parse5.htmlparser2.isTextNode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>isTextNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTextNode = function (node) {
    return node.type === &#x27;text&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (childNodes) {
        for (var i = 0, cnLength = childNodes.length; i &#x3c; cnLength; i++) {
var currentNode = childNodes[i];

if (this.treeAdapter.isElementNode(currentNode))
    this._serializeElement(currentNode);

else if (this.treeAdapter.<span class="apidocCodeKeywordSpan">isTextNode</span>(currentNode))
    this._serializeTextNode(currentNode);

else if (this.treeAdapter.isCommentNode(currentNode))
    this._serializeCommentNode(currentNode);

else if (this.treeAdapter.isDocumentTypeNode(currentNode))
    this._serializeDocumentTypeNode(currentNode);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.setDocumentMode" id="apidoc.element.parse5.htmlparser2.setDocumentMode">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>setDocumentMode
        <span class="apidocSignatureSpan">(document, mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDocumentMode = function (document, mode) {
    document[&#x27;x-mode&#x27;] = mode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function doctypeInInitialMode(p, token) {
p._setDocumentType(token);

var mode = token.forceQuirks ?
    HTML.DOCUMENT_MODE.QUIRKS :
    doctype.getDocumentMode(token.name, token.publicId, token.systemId);

p.treeAdapter.<span class="apidocCodeKeywordSpan">setDocumentMode</span>(p.document, mode);

p.insertionMode = BEFORE_HTML_MODE;
}

function tokenInInitialMode(p, token) {
p.treeAdapter.setDocumentMode(p.document, HTML.DOCUMENT_MODE.QUIRKS);
p.insertionMode = BEFORE_HTML_MODE;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.setDocumentType" id="apidoc.element.parse5.htmlparser2.setDocumentType">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>setDocumentType
        <span class="apidocSignatureSpan">(document, name, publicId, systemId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDocumentType = function (document, name, publicId, systemId) {
    var data = doctype.serializeContent(name, publicId, systemId),
        doctypeNode = null;

    for (var i = 0; i &#x3c; document.children.length; i++) {
        if (document.children[i].type === &#x27;directive&#x27; &#x26;&#x26; document.children[i].name === &#x27;!doctype&#x27;) {
            doctypeNode = document.children[i];
            break;
        }
    }

    if (doctypeNode) {
        doctypeNode.data = data;
        doctypeNode[&#x27;x-name&#x27;] = name;
        doctypeNode[&#x27;x-publicId&#x27;] = publicId;
        doctypeNode[&#x27;x-systemId&#x27;] = systemId;
    }

    else {
        appendChild(document, new Node({
            type: &#x27;directive&#x27;,
            name: &#x27;!doctype&#x27;,
            data: data,
            &#x27;x-name&#x27;: name,
            &#x27;x-publicId&#x27;: publicId,
            &#x27;x-systemId&#x27;: systemId
        }));
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    else if (tn === $.PLAINTEXT)
        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
}
};

//Tree mutation
Parser.prototype._setDocumentType = function (token) {
this.treeAdapter.<span class="apidocCodeKeywordSpan">setDocumentType</span>(this.document, token.name, token.publicId, token.systemId
);
};

Parser.prototype._attachElementToTree = function (element) {
if (this._shouldFosterParentOnInsertion())
    this._fosterParentElement(element);

else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.htmlparser2.setTemplateContent" id="apidoc.element.parse5.htmlparser2.setTemplateContent">
        function <span class="apidocSignatureSpan">parse5.htmlparser2.</span>setTemplateContent
        <span class="apidocSignatureSpan">(templateElement, contentElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTemplateContent = function (templateElement, contentElement) {
    appendChild(templateElement, contentElement);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.openElements.push(element);
};

Parser.prototype._insertTemplate = function (token) {
var tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs),
    content = this.treeAdapter.createDocumentFragment();

this.treeAdapter.<span class="apidocCodeKeywordSpan">setTemplateContent</span>(tmpl, content);
this._attachElementToTree(tmpl);
this.openElements.push(tmpl);
};

Parser.prototype._insertFakeRootElement = function () {
var element = this.treeAdapter.createElement($.HTML, NS.HTML, []);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.index" id="apidoc.module.parse5.index">module parse5.index</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.index.index" id="apidoc.element.parse5.index.index">
        function <span class="apidocSignatureSpan">parse5.</span>index
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function (options) {
    this.options = mergeOptions(DEFAULT_OPTIONS, options);

    this.treeAdapter = this.options.treeAdapter;
    this.pendingScript = null;

    if (this.options.locationInfo)
        locationInfoMixin.assign(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.index.prototype" id="apidoc.module.parse5.index.prototype">module parse5.index.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.index.prototype._adoptNodes" id="apidoc.element.parse5.index.prototype._adoptNodes">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_adoptNodes
        <span class="apidocSignatureSpan">(donor, recipient)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_adoptNodes = function (donor, recipient) {
    while (true) {
        var child = this.treeAdapter.getFirstChild(donor);

        if (!child)
            break;

        this.treeAdapter.detachNode(child);
        this.treeAdapter.appendChild(recipient, child);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._findFormInFragmentContext();
this.tokenizer.write(html, true);
this._runParsingLoop(null);

var rootElement = this.treeAdapter.getFirstChild(documentMock),
    fragment = this.treeAdapter.createDocumentFragment();

this.<span class="apidocCodeKeywordSpan">_adoptNodes</span>(rootElement, fragment);

return fragment;
};

//Bootstrap parser
Parser.prototype._bootstrap = function (document, fragmentContext) {
this.tokenizer = new Tokenizer(this.options);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._appendCommentNode" id="apidoc.element.parse5.index.prototype._appendCommentNode">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_appendCommentNode
        <span class="apidocSignatureSpan">(token, parent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_appendCommentNode = function (token, parent) {
    var commentNode = this.treeAdapter.createCommentNode(token.data);

    this.treeAdapter.appendChild(parent, commentNode);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//Generic token handlers
//------------------------------------------------------------------
function ignoreToken() {
    //NOTE: do nothing =)
}

function appendComment(p, token) {
    p.<span class="apidocCodeKeywordSpan">_appendCommentNode</span>(token, p.openElements.currentTmplContent || p.openElements.current
);
}

function appendCommentToRootHtmlElement(p, token) {
    p._appendCommentNode(token, p.openElements.items[0]);
}

function appendCommentToDocument(p, token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._appendElement" id="apidoc.element.parse5.index.prototype._appendElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_appendElement
        <span class="apidocSignatureSpan">(token, namespaceURI)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_appendElement = function (token, namespaceURI) {
    var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

    this._attachElementToTree(element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function startTagInHead(p, token) {
var tn = token.tagName;

if (tn === $.HTML)
    startTagInBody(p, token);

else if (tn === $.BASE || tn === $.BASEFONT || tn === $.BGSOUND || tn === $.LINK || tn === $.META)
    p.<span class="apidocCodeKeywordSpan">_appendElement</span>(token, NS.HTML);

else if (tn === $.TITLE)
    p._switchToTextParsing(token, Tokenizer.MODE.RCDATA);

//NOTE: here we assume that we always act as an interactive user agent with enabled scripting, so we parse
//&#x3c;noscript&#x3e; as a rawtext.
else if (tn === $.NOSCRIPT || tn === $.NOFRAMES || tn === $.STYLE)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._attachElementToTree" id="apidoc.element.parse5.index.prototype._attachElementToTree">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_attachElementToTree
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_attachElementToTree = function (element) {
    if (this._shouldFosterParentOnInsertion())
        this._fosterParentElement(element);

    else {
        var parent = this.openElements.currentTmplContent || this.openElements.current;

        this.treeAdapter.appendChild(parent, element);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.treeAdapter.appendChild(parent, element);
}
};

Parser.prototype._appendElement = function (token, namespaceURI) {
var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

this.<span class="apidocCodeKeywordSpan">_attachElementToTree</span>(element);
};

Parser.prototype._insertElement = function (token, namespaceURI) {
var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

this._attachElementToTree(element);
this.openElements.push(element);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._bootstrap" id="apidoc.element.parse5.index.prototype._bootstrap">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_bootstrap
        <span class="apidocSignatureSpan">(document, fragmentContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_bootstrap = function (document, fragmentContext) {
    this.tokenizer = new Tokenizer(this.options);

    this.stopped = false;

    this.insertionMode = INITIAL_MODE;
    this.originalInsertionMode = &#x27;&#x27;;

    this.document = document;
    this.fragmentContext = fragmentContext;

    this.headElement = null;
    this.formElement = null;

    this.openElements = new OpenElementStack(this.document, this.treeAdapter);
    this.activeFormattingElements = new FormattingElementList(this.treeAdapter);

    this.tmplInsertionModeStack = [];
    this.tmplInsertionModeStackTop = -1;
    this.currentTmplInsertionMode = null;

    this.pendingCharacterTokens = [];
    this.hasNonWhitespacePendingCharacterToken = false;

    this.framesetOk = true;
    this.skipNextNewLine = false;
    this.fosterParentingEnabled = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        locationInfoMixin.assign(this);
};

// API
Parser.prototype.parse = function (html) {
    var document = this.treeAdapter.createDocument();

    this.<span class="apidocCodeKeywordSpan">_bootstrap</span>(document, null);
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._closePElement" id="apidoc.element.parse5.index.prototype._closePElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_closePElement
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_closePElement = function () {
    this.openElements.generateImpliedEndTagsWithExclusion($.P);
    this.openElements.popUntilTagNamePopped($.P);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p._insertElement(token, NS.HTML);
    p.insertionMode = IN_FRAMESET_MODE;
}
}

function addressStartTagInBody(p, token) {
if (p.openElements.hasInButtonScope($.P))
    p.<span class="apidocCodeKeywordSpan">_closePElement</span>();

p._insertElement(token, NS.HTML);
}

function numberedHeaderStartTagInBody(p, token) {
if (p.openElements.hasInButtonScope($.P))
    p._closePElement();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._closeTableCell" id="apidoc.element.parse5.index.prototype._closeTableCell">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_closeTableCell
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_closeTableCell = function () {
    this.openElements.generateImpliedEndTags();
    this.openElements.popUntilTableCellPopped();
    this.activeFormattingElements.clearToLastMarker();
    this.insertionMode = IN_ROW_MODE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function startTagInCell(p, token) {
    var tn = token.tagName;

    if (tn === $.CAPTION || tn === $.COL || tn === $.COLGROUP || tn === $.TBODY ||
        tn === $.TD || tn === $.TFOOT || tn === $.TH || tn === $.THEAD || tn === $.TR) {

        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {
            p.<span class="apidocCodeKeywordSpan">_closeTableCell</span>();
            p._processToken(token);
        }
    }

    else
        startTagInBody(p, token);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._findFormInFragmentContext" id="apidoc.element.parse5.index.prototype._findFormInFragmentContext">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_findFormInFragmentContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_findFormInFragmentContext = function () {
    var node = this.fragmentContext;

    do {
        if (this.treeAdapter.getTagName(node) === $.FORM) {
            this.formElement = node;
            break;
        }

        node = this.treeAdapter.getParentNode(node);
    } while (node);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE)
    this._pushTmplInsertionMode(IN_TEMPLATE_MODE);

this._initTokenizerForFragmentParsing();
this._insertFakeRootElement();
this._resetInsertionMode();
this.<span class="apidocCodeKeywordSpan">_findFormInFragmentContext</span>();
this.tokenizer.write(html, true);
this._runParsingLoop(null);

var rootElement = this.treeAdapter.getFirstChild(documentMock),
    fragment = this.treeAdapter.createDocumentFragment();

this._adoptNodes(rootElement, fragment);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._findFosterParentingLocation" id="apidoc.element.parse5.index.prototype._findFosterParentingLocation">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_findFosterParentingLocation
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_findFosterParentingLocation = function () {
    var location = {
        parent: null,
        beforeElement: null
    };

    for (var i = this.openElements.stackTop; i &#x3e;= 0; i--) {
        var openElement = this.openElements.items[i],
            tn = this.treeAdapter.getTagName(openElement),
            ns = this.treeAdapter.getNamespaceURI(openElement);

        if (tn === $.TEMPLATE &#x26;&#x26; ns === NS.HTML) {
            location.parent = this.treeAdapter.getTemplateContent(openElement);
            break;
        }

        else if (tn === $.TABLE) {
            location.parent = this.treeAdapter.getParentNode(openElement);

            if (location.parent)
                location.beforeElement = openElement;
            else
                location.parent = this.openElements.items[i - 1];

            break;
        }
    }

    if (!location.parent)
        location.parent = this.openElements.items[0];

    return location;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (!location.parent)
        location.parent = this.openElements.items[0];

    return location;
};

Parser.prototype._fosterParentElement = function (element) {
    var location = this.<span class="apidocCodeKeywordSpan">_findFosterParentingLocation</span>();

    if (location.beforeElement)
        this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);
    else
        this.treeAdapter.appendChild(location.parent, element);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._fosterParentElement" id="apidoc.element.parse5.index.prototype._fosterParentElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_fosterParentElement
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_fosterParentElement = function (element) {
    var location = this._findFosterParentingLocation();

    if (location.beforeElement)
        this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);
    else
        this.treeAdapter.appendChild(location.parent, element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//Tree mutation
Parser.prototype._setDocumentType = function (token) {
    this.treeAdapter.setDocumentType(this.document, token.name, token.publicId, token.systemId);
};

Parser.prototype._attachElementToTree = function (element) {
    if (this._shouldFosterParentOnInsertion())
        this.<span class="apidocCodeKeywordSpan">_fosterParentElement</span>(element);

    else {
        var parent = this.openElements.currentTmplContent || this.openElements.current;

        this.treeAdapter.appendChild(parent, element);
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._fosterParentText" id="apidoc.element.parse5.index.prototype._fosterParentText">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_fosterParentText
        <span class="apidocSignatureSpan">(chars)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_fosterParentText = function (chars) {
    var location = this._findFosterParentingLocation();

    if (location.beforeElement)
        this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);
    else
        this.treeAdapter.insertText(location.parent, chars);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var commentNode = this.treeAdapter.createCommentNode(token.data);

    this.treeAdapter.appendChild(parent, commentNode);
};

Parser.prototype._insertCharacters = function (token) {
    if (this._shouldFosterParentOnInsertion())
        this.<span class="apidocCodeKeywordSpan">_fosterParentText</span>(token.chars);

    else {
        var parent = this.openElements.currentTmplContent || this.openElements.current;

        this.treeAdapter.insertText(parent, token.chars);
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._getAdjustedCurrentElement" id="apidoc.element.parse5.index.prototype._getAdjustedCurrentElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_getAdjustedCurrentElement
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getAdjustedCurrentElement = function () {
    return this.openElements.stackTop === 0 &#x26;&#x26; this.fragmentContext ?
        this.fragmentContext :
        this.openElements.current;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (writeCallback)
    writeCallback();
};

//Text parsing
Parser.prototype._setupTokenizerCDATAMode = function () {
var current = this.<span class="apidocCodeKeywordSpan">_getAdjustedCurrentElement</span>();

this.tokenizer.allowCDATA = current &#x26;&#x26; current !== this.document &#x26;&#x26;
                            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &#x26;&#x26; !this._isIntegrationPoint(current
);
};

Parser.prototype._switchToTextParsing = function (currentToken, nextTokenizerState) {
this._insertElement(currentToken, NS.HTML);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._initTokenizerForFragmentParsing" id="apidoc.element.parse5.index.prototype._initTokenizerForFragmentParsing">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_initTokenizerForFragmentParsing
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_initTokenizerForFragmentParsing = function () {
    if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {
        var tn = this.treeAdapter.getTagName(this.fragmentContext);

        if (tn === $.TITLE || tn === $.TEXTAREA)
            this.tokenizer.state = Tokenizer.MODE.RCDATA;

        else if (tn === $.STYLE || tn === $.XMP || tn === $.IFRAME ||
                 tn === $.NOEMBED || tn === $.NOFRAMES || tn === $.NOSCRIPT)
            this.tokenizer.state = Tokenizer.MODE.RAWTEXT;

        else if (tn === $.SCRIPT)
            this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;

        else if (tn === $.PLAINTEXT)
            this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var documentMock = this.treeAdapter.createElement(&#x27;documentmock&#x27;, NS.HTML, []);

this._bootstrap(documentMock, fragmentContext);

if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE)
    this._pushTmplInsertionMode(IN_TEMPLATE_MODE);

this.<span class="apidocCodeKeywordSpan">_initTokenizerForFragmentParsing</span>();
this._insertFakeRootElement();
this._resetInsertionMode();
this._findFormInFragmentContext();
this.tokenizer.write(html, true);
this._runParsingLoop(null);

var rootElement = this.treeAdapter.getFirstChild(documentMock),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._insertCharacters" id="apidoc.element.parse5.index.prototype._insertCharacters">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertCharacters
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_insertCharacters = function (token) {
    if (this._shouldFosterParentOnInsertion())
        this._fosterParentText(token.chars);

    else {
        var parent = this.openElements.currentTmplContent || this.openElements.current;

        this.treeAdapter.insertText(parent, token.chars);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function appendCommentToDocument(p, token) {
    p._appendCommentNode(token, p.document);
}

function insertCharacters(p, token) {
    p.<span class="apidocCodeKeywordSpan">_insertCharacters</span>(token);
}

function stopParsing(p) {
    p.stopped = true;
}

//12.2.5.4.1 The &#x22;initial&#x22; insertion mode
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._insertElement" id="apidoc.element.parse5.index.prototype._insertElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertElement
        <span class="apidocSignatureSpan">(token, namespaceURI)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_insertElement = function (token, namespaceURI) {
    var element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);

    this._attachElementToTree(element);
    this.openElements.push(element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var current = this._getAdjustedCurrentElement();

this.tokenizer.allowCDATA = current &#x26;&#x26; current !== this.document &#x26;&#x26;
                            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &#x26;&#x26; !this._isIntegrationPoint(current
);
};

Parser.prototype._switchToTextParsing = function (currentToken, nextTokenizerState) {
this.<span class="apidocCodeKeywordSpan">_insertElement</span>(currentToken, NS.HTML);
this.tokenizer.state = nextTokenizerState;
this.originalInsertionMode = this.insertionMode;
this.insertionMode = TEXT_MODE;
};

Parser.prototype.switchToPlaintextParsing = function () {
this.insertionMode = TEXT_MODE;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._insertFakeElement" id="apidoc.element.parse5.index.prototype._insertFakeElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertFakeElement
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_insertFakeElement = function (tagName) {
    var element = this.treeAdapter.createElement(tagName, NS.HTML, []);

    this._attachElementToTree(element);
    this.openElements.push(element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var tn = token.tagName;

    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR)
        tokenBeforeHead(p, token);
}

function tokenBeforeHead(p, token) {
    p.<span class="apidocCodeKeywordSpan">_insertFakeElement</span>($.HEAD);
    p.headElement = p.openElements.current;
    p.insertionMode = IN_HEAD_MODE;
    p._processToken(token);
}


//12.2.5.4.4 The &#x22;in head&#x22; insertion mode
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._insertFakeRootElement" id="apidoc.element.parse5.index.prototype._insertFakeRootElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertFakeRootElement
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_insertFakeRootElement = function () {
    var element = this.treeAdapter.createElement($.HTML, NS.HTML, []);

    this.treeAdapter.appendChild(this.openElements.current, element);
    this.openElements.push(element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this._bootstrap(documentMock, fragmentContext);

if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE)
    this._pushTmplInsertionMode(IN_TEMPLATE_MODE);

this._initTokenizerForFragmentParsing();
this.<span class="apidocCodeKeywordSpan">_insertFakeRootElement</span>();
this._resetInsertionMode();
this._findFormInFragmentContext();
this.tokenizer.write(html, true);
this._runParsingLoop(null);

var rootElement = this.treeAdapter.getFirstChild(documentMock),
    fragment = this.treeAdapter.createDocumentFragment();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._insertTemplate" id="apidoc.element.parse5.index.prototype._insertTemplate">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_insertTemplate
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_insertTemplate = function (token) {
    var tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs),
        content = this.treeAdapter.createDocumentFragment();

    this.treeAdapter.setTemplateContent(tmpl, content);
    this._attachElementToTree(tmpl);
    this.openElements.push(tmpl);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
else if (tn === $.NOSCRIPT || tn === $.NOFRAMES || tn === $.STYLE)
    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);

else if (tn === $.SCRIPT)
    p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);

else if (tn === $.TEMPLATE) {
    p.<span class="apidocCodeKeywordSpan">_insertTemplate</span>(token, NS.HTML);
    p.activeFormattingElements.insertMarker();
    p.framesetOk = false;
    p.insertionMode = IN_TEMPLATE_MODE;
    p._pushTmplInsertionMode(IN_TEMPLATE_MODE);
}

else if (tn !== $.HEAD)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._isElementCausesFosterParenting" id="apidoc.element.parse5.index.prototype._isElementCausesFosterParenting">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_isElementCausesFosterParenting
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isElementCausesFosterParenting = function (element) {
    var tn = this.treeAdapter.getTagName(element);

    return tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype._isElementCausesFosterParenting = function (element) {
var tn = this.treeAdapter.getTagName(element);

return tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR;
};

Parser.prototype._shouldFosterParentOnInsertion = function () {
return this.fosterParentingEnabled &#x26;&#x26; this.<span class="apidocCodeKeywordSpan">_isElementCausesFosterParenting</span>(
this.openElements.current);
};

Parser.prototype._findFosterParentingLocation = function () {
var location = {
    parent: null,
    beforeElement: null
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._isIntegrationPoint" id="apidoc.element.parse5.index.prototype._isIntegrationPoint">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_isIntegrationPoint
        <span class="apidocSignatureSpan">(element, foreignNS)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isIntegrationPoint = function (element, foreignNS) {
    var tn = this.treeAdapter.getTagName(element),
        ns = this.treeAdapter.getNamespaceURI(element),
        attrs = this.treeAdapter.getAttrList(element);

    return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

//Text parsing
Parser.prototype._setupTokenizerCDATAMode = function () {
var current = this._getAdjustedCurrentElement();

this.tokenizer.allowCDATA = current &#x26;&#x26; current !== this.document &#x26;&#x26;
                            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &#x26;&#x26; !this.<span class="apidocCodeKeywordSpan
">_isIntegrationPoint</span>(current);
};

Parser.prototype._switchToTextParsing = function (currentToken, nextTokenizerState) {
this._insertElement(currentToken, NS.HTML);
this.tokenizer.state = nextTokenizerState;
this.originalInsertionMode = this.insertionMode;
this.insertionMode = TEXT_MODE;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._isSpecialElement" id="apidoc.element.parse5.index.prototype._isSpecialElement">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_isSpecialElement
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isSpecialElement = function (element) {
    var tn = this.treeAdapter.getTagName(element),
        ns = this.treeAdapter.getNamespaceURI(element);

    return HTML.SPECIAL_ELEMENTS[ns][tn];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

for (var i = p.openElements.stackTop; i &#x3e;= 0; i--) {
    var element = p.openElements.items[i];

    if (element === formattingElementEntry.element)
        break;

    if (p.<span class="apidocCodeKeywordSpan">_isSpecialElement</span>(element))
        furthestBlock = element;
}

if (!furthestBlock) {
    p.openElements.popUntilElementPopped(formattingElementEntry.element);
    p.activeFormattingElements.removeEntry(formattingElementEntry);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._popTmplInsertionMode" id="apidoc.element.parse5.index.prototype._popTmplInsertionMode">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_popTmplInsertionMode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_popTmplInsertionMode = function () {
    this.tmplInsertionModeStack.pop();
    this.tmplInsertionModeStackTop--;
    this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
else if (tn === $.BODY || tn === $.BR || tn === $.HTML)
    tokenInHead(p, token);

else if (tn === $.TEMPLATE &#x26;&#x26; p.openElements.tmplCount &#x3e; 0) {
    p.openElements.generateImpliedEndTags();
    p.openElements.popUntilTagNamePopped($.TEMPLATE);
    p.activeFormattingElements.clearToLastMarker();
    p.<span class="apidocCodeKeywordSpan">_popTmplInsertionMode</span>();
    p._resetInsertionMode();
}
}

function tokenInHead(p, token) {
p.openElements.pop();
p.insertionMode = AFTER_HEAD_MODE;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._processInputToken" id="apidoc.element.parse5.index.prototype._processInputToken">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processInputToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processInputToken = function (token) {
    if (this._shouldProcessTokenInForeignContent(token))
        this._processTokenInForeignContent(token);

    else
        this._processToken(token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                if (token.chars.length === 1)
                    continue;

                token.chars = token.chars.substr(1);
            }
        }

        this.<span class="apidocCodeKeywordSpan">_processInputToken</span>(token);

        if (scriptHandler &#x26;&#x26; this.pendingScript)
            break;
    }
};

Parser.prototype.runParsingLoopForCurrentChunk = function (writeCallback, scriptHandler) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._processToken" id="apidoc.element.parse5.index.prototype._processToken">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processToken = function (token) {
    _[this.insertionMode][token.type](this, token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Parser.prototype._processInputToken = function (token) {
if (this._shouldProcessTokenInForeignContent(token))
    this._processTokenInForeignContent(token);

else
    this.<span class="apidocCodeKeywordSpan">_processToken</span>(token);
};

//Integration points
Parser.prototype._isIntegrationPoint = function (element, foreignNS) {
var tn = this.treeAdapter.getTagName(element),
    ns = this.treeAdapter.getNamespaceURI(element),
    attrs = this.treeAdapter.getAttrList(element);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._processTokenInBodyMode" id="apidoc.element.parse5.index.prototype._processTokenInBodyMode">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processTokenInBodyMode
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processTokenInBodyMode = function (token) {
    _[IN_BODY_MODE][token.type](this, token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        tokenInTable(p, token);
}

function tokenInTable(p, token) {
    var savedFosterParentingState = p.fosterParentingEnabled;

    p.fosterParentingEnabled = true;
    p.<span class="apidocCodeKeywordSpan">_processTokenInBodyMode</span>(token);
    p.fosterParentingEnabled = savedFosterParentingState;
}


//12.2.5.4.10 The &#x22;in table text&#x22; insertion mode
//------------------------------------------------------------------
function whitespaceCharacterInTableText(p, token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._processTokenInForeignContent" id="apidoc.element.parse5.index.prototype._processTokenInForeignContent">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_processTokenInForeignContent
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processTokenInForeignContent = function (token) {
    if (token.type === Tokenizer.CHARACTER_TOKEN)
        characterInForeignContent(this, token);

    else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN)
        nullCharacterInForeignContent(this, token);

    else if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN)
        insertCharacters(this, token);

    else if (token.type === Tokenizer.COMMENT_TOKEN)
        appendComment(this, token);

    else if (token.type === Tokenizer.START_TAG_TOKEN)
        startTagInForeignContent(this, token);

    else if (token.type === Tokenizer.END_TAG_TOKEN)
        endTagInForeignContent(this, token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    else if (token.type === Tokenizer.END_TAG_TOKEN)
        endTagInForeignContent(this, token);
};

Parser.prototype._processInputToken = function (token) {
    if (this._shouldProcessTokenInForeignContent(token))
        this.<span class="apidocCodeKeywordSpan">_processTokenInForeignContent</span>(token);

    else
        this._processToken(token);
};

//Integration points
Parser.prototype._isIntegrationPoint = function (element, foreignNS) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._pushTmplInsertionMode" id="apidoc.element.parse5.index.prototype._pushTmplInsertionMode">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_pushTmplInsertionMode
        <span class="apidocSignatureSpan">(mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pushTmplInsertionMode = function (mode) {
    this.tmplInsertionModeStack.push(mode);
    this.tmplInsertionModeStackTop++;
    this.currentTmplInsertionMode = mode;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//This is important for jsdom there &#x27;document&#x27; can&#x27;t be recreated, therefore
//fragment parsing causes messing of the main `document`.
var documentMock = this.treeAdapter.createElement(&#x27;documentmock&#x27;, NS.HTML, []);

this._bootstrap(documentMock, fragmentContext);

if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE)
    this.<span class="apidocCodeKeywordSpan">_pushTmplInsertionMode</span>(IN_TEMPLATE_MODE);

this._initTokenizerForFragmentParsing();
this._insertFakeRootElement();
this._resetInsertionMode();
this._findFormInFragmentContext();
this.tokenizer.write(html, true);
this._runParsingLoop(null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._reconstructActiveFormattingElements" id="apidoc.element.parse5.index.prototype._reconstructActiveFormattingElements">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_reconstructActiveFormattingElements
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_reconstructActiveFormattingElements = function () {
    var listLength = this.activeFormattingElements.length;

    if (listLength) {
        var unopenIdx = listLength,
            entry = null;

        do {
            unopenIdx--;
            entry = this.activeFormattingElements.entries[unopenIdx];

            if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {
                unopenIdx++;
                break;
            }
        } while (unopenIdx &#x3e; 0);

        for (var i = unopenIdx; i &#x3c; listLength; i++) {
            entry = this.activeFormattingElements.entries[i];
            this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));
            entry.element = this.openElements.current;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p._processToken(token);
}


//12.2.5.4.7 The &#x22;in body&#x22; insertion mode
//------------------------------------------------------------------
function whitespaceCharacterInBody(p, token) {
p.<span class="apidocCodeKeywordSpan">_reconstructActiveFormattingElements</span>();
p._insertCharacters(token);
}

function characterInBody(p, token) {
p._reconstructActiveFormattingElements();
p._insertCharacters(token);
p.framesetOk = false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._resetInsertionMode" id="apidoc.element.parse5.index.prototype._resetInsertionMode">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_resetInsertionMode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resetInsertionMode = function () {
    for (var i = this.openElements.stackTop, last = false; i &#x3e;= 0; i--) {
        var element = this.openElements.items[i];

        if (i === 0) {
            last = true;

            if (this.fragmentContext)
                element = this.fragmentContext;
        }

        var tn = this.treeAdapter.getTagName(element),
            newInsertionMode = INSERTION_MODE_RESET_MAP[tn];

        if (newInsertionMode) {
            this.insertionMode = newInsertionMode;
            break;
        }

        else if (!last &#x26;&#x26; (tn === $.TD || tn === $.TH)) {
            this.insertionMode = IN_CELL_MODE;
            break;
        }

        else if (!last &#x26;&#x26; tn === $.HEAD) {
            this.insertionMode = IN_HEAD_MODE;
            break;
        }

        else if (tn === $.SELECT) {
            this._resetInsertionModeForSelect(i);
            break;
        }

        else if (tn === $.TEMPLATE) {
            this.insertionMode = this.currentTmplInsertionMode;
            break;
        }

        else if (tn === $.HTML) {
            this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;
            break;
        }

        else if (last) {
            this.insertionMode = IN_BODY_MODE;
            break;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._bootstrap(documentMock, fragmentContext);

if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE)
    this._pushTmplInsertionMode(IN_TEMPLATE_MODE);

this._initTokenizerForFragmentParsing();
this._insertFakeRootElement();
this.<span class="apidocCodeKeywordSpan">_resetInsertionMode</span>();
this._findFormInFragmentContext();
this.tokenizer.write(html, true);
this._runParsingLoop(null);

var rootElement = this.treeAdapter.getFirstChild(documentMock),
    fragment = this.treeAdapter.createDocumentFragment();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._resetInsertionModeForSelect" id="apidoc.element.parse5.index.prototype._resetInsertionModeForSelect">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_resetInsertionModeForSelect
        <span class="apidocSignatureSpan">(selectIdx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resetInsertionModeForSelect = function (selectIdx) {
    if (selectIdx &#x3e; 0) {
        for (var i = selectIdx - 1; i &#x3e; 0; i--) {
            var ancestor = this.openElements.items[i],
                tn = this.treeAdapter.getTagName(ancestor);

            if (tn === $.TEMPLATE)
                break;

            else if (tn === $.TABLE) {
                this.insertionMode = IN_SELECT_IN_TABLE_MODE;
                return;
            }
        }
    }

    this.insertionMode = IN_SELECT_MODE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

else if (!last &#x26;&#x26; tn === $.HEAD) {
    this.insertionMode = IN_HEAD_MODE;
    break;
}

else if (tn === $.SELECT) {
    this.<span class="apidocCodeKeywordSpan">_resetInsertionModeForSelect</span>(i);
    break;
}

else if (tn === $.TEMPLATE) {
    this.insertionMode = this.currentTmplInsertionMode;
    break;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._runParsingLoop" id="apidoc.element.parse5.index.prototype._runParsingLoop">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_runParsingLoop
        <span class="apidocSignatureSpan">(scriptHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_runParsingLoop = function (scriptHandler) {
    while (!this.stopped) {
        this._setupTokenizerCDATAMode();

        var token = this.tokenizer.getNextToken();

        if (token.type === Tokenizer.HIBERNATION_TOKEN)
            break;

        if (this.skipNextNewLine) {
            this.skipNextNewLine = false;

            if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN &#x26;&#x26; token.chars[0] === &#x27;\n&#x27;) {
                if (token.chars.length === 1)
                    continue;

                token.chars = token.chars.substr(1);
            }
        }

        this._processInputToken(token);

        if (scriptHandler &#x26;&#x26; this.pendingScript)
            break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// API
Parser.prototype.parse = function (html) {
var document = this.treeAdapter.createDocument();

this._bootstrap(document, null);
this.tokenizer.write(html, true);
this.<span class="apidocCodeKeywordSpan">_runParsingLoop</span>(null);

return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
//NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
//so we will parse in &#x22;forgiving&#x22; manner
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._setDocumentType" id="apidoc.element.parse5.index.prototype._setDocumentType">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_setDocumentType
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setDocumentType = function (token) {
    this.treeAdapter.setDocumentType(this.document, token.name, token.publicId, token.systemId);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function stopParsing(p) {
p.stopped = true;
}

//12.2.5.4.1 The &#x22;initial&#x22; insertion mode
//------------------------------------------------------------------
function doctypeInInitialMode(p, token) {
p.<span class="apidocCodeKeywordSpan">_setDocumentType</span>(token);

var mode = token.forceQuirks ?
    HTML.DOCUMENT_MODE.QUIRKS :
    doctype.getDocumentMode(token.name, token.publicId, token.systemId);

p.treeAdapter.setDocumentMode(p.document, mode);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._setupTokenizerCDATAMode" id="apidoc.element.parse5.index.prototype._setupTokenizerCDATAMode">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_setupTokenizerCDATAMode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setupTokenizerCDATAMode = function () {
    var current = this._getAdjustedCurrentElement();

    this.tokenizer.allowCDATA = current &#x26;&#x26; current !== this.document &#x26;&#x26;
                                this.treeAdapter.getNamespaceURI(current) !== NS.HTML &#x26;&#x26; !this._isIntegrationPoint(current);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.skipNextNewLine = false;
    this.fosterParentingEnabled = false;
};

//Parsing loop
Parser.prototype._runParsingLoop  = function (scriptHandler) {
    while (!this.stopped) {
this.<span class="apidocCodeKeywordSpan">_setupTokenizerCDATAMode</span>();

var token = this.tokenizer.getNextToken();

if (token.type === Tokenizer.HIBERNATION_TOKEN)
    break;

if (this.skipNextNewLine) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._shouldFosterParentOnInsertion" id="apidoc.element.parse5.index.prototype._shouldFosterParentOnInsertion">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_shouldFosterParentOnInsertion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_shouldFosterParentOnInsertion = function () {
    return this.fosterParentingEnabled &#x26;&#x26; this._isElementCausesFosterParenting(this.openElements.current);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
lastFosterParentingLocation = parserProto._findFosterParentingLocation.call(this);
return lastFosterParentingLocation;
    };

    parser._insertCharacters = function (token) {
parserProto._insertCharacters.call(this, token);

var hasFosterParent = this.<span class="apidocCodeKeywordSpan">_shouldFosterParentOnInsertion</span>(),
    parent = hasFosterParent &#x26;&#x26; lastFosterParentingLocation.parent ||
             this.openElements.currentTmplContent ||
             this.openElements.current,
    siblings = this.treeAdapter.getChildNodes(parent),
    textNodeIdx = hasFosterParent &#x26;&#x26; lastFosterParentingLocation.beforeElement ?
    siblings.indexOf(lastFosterParentingLocation.beforeElement) - 1 :
    siblings.length - 1,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._shouldProcessTokenInForeignContent" id="apidoc.element.parse5.index.prototype._shouldProcessTokenInForeignContent">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_shouldProcessTokenInForeignContent
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_shouldProcessTokenInForeignContent = function (token) {
    var current = this._getAdjustedCurrentElement();

    if (!current || current === this.document)
        return false;

    var ns = this.treeAdapter.getNamespaceURI(current);

    if (ns === NS.HTML)
        return false;

    if (this.treeAdapter.getTagName(current) === $.ANNOTATION_XML &#x26;&#x26; ns === NS.MATHML &#x26;&#x26;
        token.type === Tokenizer.START_TAG_TOKEN &#x26;&#x26; token.tagName === $.SVG)
        return false;

    var isCharacterToken = token.type === Tokenizer.CHARACTER_TOKEN ||
                           token.type === Tokenizer.NULL_CHARACTER_TOKEN ||
                           token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN,
        isMathMLTextStartTag = token.type === Tokenizer.START_TAG_TOKEN &#x26;&#x26;
                               token.tagName !== $.MGLYPH &#x26;&#x26;
                               token.tagName !== $.MALIGNMARK;

    if ((isMathMLTextStartTag || isCharacterToken) &#x26;&#x26; this._isIntegrationPoint(current, NS.MATHML))
        return false;

    if ((token.type === Tokenizer.START_TAG_TOKEN || isCharacterToken) &#x26;&#x26; this._isIntegrationPoint(current, NS.HTML))
        return false;

    return token.type !== Tokenizer.EOF_TOKEN;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        startTagInForeignContent(this, token);

    else if (token.type === Tokenizer.END_TAG_TOKEN)
        endTagInForeignContent(this, token);
};

Parser.prototype._processInputToken = function (token) {
    if (this.<span class="apidocCodeKeywordSpan">_shouldProcessTokenInForeignContent</span>(token))
        this._processTokenInForeignContent(token);

    else
        this._processToken(token);
};

//Integration points
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype._switchToTextParsing" id="apidoc.element.parse5.index.prototype._switchToTextParsing">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>_switchToTextParsing
        <span class="apidocSignatureSpan">(currentToken, nextTokenizerState)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_switchToTextParsing = function (currentToken, nextTokenizerState) {
    this._insertElement(currentToken, NS.HTML);
    this.tokenizer.state = nextTokenizerState;
    this.originalInsertionMode = this.insertionMode;
    this.insertionMode = TEXT_MODE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (tn === $.HTML)
    startTagInBody(p, token);

else if (tn === $.BASE || tn === $.BASEFONT || tn === $.BGSOUND || tn === $.LINK || tn === $.META)
    p._appendElement(token, NS.HTML);

else if (tn === $.TITLE)
    p.<span class="apidocCodeKeywordSpan">_switchToTextParsing</span>(token, Tokenizer.MODE.RCDATA);

//NOTE: here we assume that we always act as an interactive user agent with enabled scripting, so we parse
//&#x3c;noscript&#x3e; as a rawtext.
else if (tn === $.NOSCRIPT || tn === $.NOFRAMES || tn === $.STYLE)
    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);

else if (tn === $.SCRIPT)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype.parse" id="apidoc.element.parse5.index.prototype.parse">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>parse
        <span class="apidocSignatureSpan">(html)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (html) {
    var document = this.treeAdapter.createDocument();

    this._bootstrap(document, null);
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    return document;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @example
*```js
*
* const parse5 = require(&#x27;parse5&#x27;);
*
* // Uses the default tree adapter for parsing.
* const document = parse5.<span class="apidocCodeKeywordSpan">parse</span>(&#x27;&#x3c;div&#x3e;&#x3c;/div&#x3e;&#x27;, {
*     treeAdapter: parse5.treeAdapters.default
* });
*
* // Uses the htmlparser2 tree adapter with the SerializerStream.
* const serializer = new parse5.SerializerStream(node, {
*     treeAdapter: parse5.treeAdapters.htmlparser2
* });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype.parseFragment" id="apidoc.element.parse5.index.prototype.parseFragment">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>parseFragment
        <span class="apidocSignatureSpan">(html, fragmentContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseFragment = function (html, fragmentContext) {
    //NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
    //so we will parse in &#x22;forgiving&#x22; manner
    if (!fragmentContext)
        fragmentContext = this.treeAdapter.createElement($.TEMPLATE, NS.HTML, []);

    //NOTE: create fake element which will be used as &#x27;document&#x27; for fragment parsing.
    //This is important for jsdom there &#x27;document&#x27; can&#x27;t be recreated, therefore
    //fragment parsing causes messing of the main `document`.
    var documentMock = this.treeAdapter.createElement(&#x27;documentmock&#x27;, NS.HTML, []);

    this._bootstrap(documentMock, fragmentContext);

    if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE)
        this._pushTmplInsertionMode(IN_TEMPLATE_MODE);

    this._initTokenizerForFragmentParsing();
    this._insertFakeRootElement();
    this._resetInsertionMode();
    this._findFormInFragmentContext();
    this.tokenizer.write(html, true);
    this._runParsingLoop(null);

    var rootElement = this.treeAdapter.getFirstChild(documentMock),
        fragment = this.treeAdapter.createDocumentFragment();

    this._adoptNodes(rootElement, fragment);

    return fragment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param options - Parsing options.
*
* @example
* ```js
*
* const parse5 = require(&#x27;parse5&#x27;);
*
* const documentFragment = parse5.<span class="apidocCodeKeywordSpan">parseFragment</span>(&#x27;&#x3c;table&#x3e;&#x3c;/table&#
x3e;&#x27;);
*
* console.log(documentFragment.childNodes[0].tagName); //&#x3e; &#x27;table&#x27;
*
* // Parses the html fragment in the context of the parsed &#x3c;table&#x3e; element.
* const trFragment = parser.parseFragment(documentFragment.childNodes[0], &#x27;&#x3c;tr&#x3e;&#x3c;td&#x3e;Shake it, baby&#x3c;/
td&#x3e;&#x3c;/tr&#x3e;&#x27;);
*
* console.log(trFragment.childNodes[0].childNodes[0].tagName); //&#x3e; &#x27;td&#x27;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype.runParsingLoopForCurrentChunk" id="apidoc.element.parse5.index.prototype.runParsingLoopForCurrentChunk">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>runParsingLoopForCurrentChunk
        <span class="apidocSignatureSpan">(writeCallback, scriptHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runParsingLoopForCurrentChunk = function (writeCallback, scriptHandler) {
    this._runParsingLoop(scriptHandler);

    if (scriptHandler &#x26;&#x26; this.pendingScript) {
        var script = this.pendingScript;

        this.pendingScript = null;

        scriptHandler(script);

        return;
    }

    if (writeCallback)
        writeCallback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ParserStream.prototype.end = function (chunk, encoding, callback) {
this.lastChunkWritten = true;
WritableStream.prototype.end.call(this, chunk, encoding, callback);
};

//Scriptable parser implementation
ParserStream.prototype._runParsingLoop = function () {
this.parser.<span class="apidocCodeKeywordSpan">runParsingLoopForCurrentChunk</span>(this.writeCallback, this._scriptHandler);
};

ParserStream.prototype._resume = function () {
if (!this.pausedByScript)
    throw new Error(&#x27;Parser was already resumed&#x27;);

while (this.pendingHtmlInsertions.length) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.index.prototype.switchToPlaintextParsing" id="apidoc.element.parse5.index.prototype.switchToPlaintextParsing">
        function <span class="apidocSignatureSpan">parse5.index.prototype.</span>switchToPlaintextParsing
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToPlaintextParsing = function () {
    this.insertionMode = TEXT_MODE;
    this.originalInsertionMode = IN_BODY_MODE;
    this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // NOTE: see https://html.spec.whatwg.org/#read-text
    this.parser._insertFakeElement($.HTML);
    this.parser._insertFakeElement($.HEAD);
    this.parser.openElements.pop();
    this.parser._insertFakeElement($.BODY);
    this.parser._insertFakeElement($.PRE);
    this.parser.treeAdapter.insertText(this.parser.openElements.current, &#x27;\n&#x27;);
    this.parser.<span class="apidocCodeKeywordSpan">switchToPlaintextParsing</span>();
};

inherits(PlainTextConversionStream, ParserStream);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.open_element_stack" id="apidoc.module.parse5.open_element_stack">module parse5.open_element_stack</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.open_element_stack" id="apidoc.element.parse5.open_element_stack.open_element_stack">
        function <span class="apidocSignatureSpan">parse5.</span>open_element_stack
        <span class="apidocSignatureSpan">(document, treeAdapter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open_element_stack = function (document, treeAdapter) {
    this.stackTop = -1;
    this.items = [];
    this.current = document;
    this.currentTagName = null;
    this.currentTmplContent = null;
    this.tmplCount = 0;
    this.treeAdapter = treeAdapter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.open_element_stack.prototype" id="apidoc.module.parse5.open_element_stack.prototype">module parse5.open_element_stack.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype._indexOf" id="apidoc.element.parse5.open_element_stack.prototype._indexOf">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>_indexOf
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_indexOf = function (element) {
    var idx = -1;

    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        if (this.items[i] === element) {
            idx = i;
            break;
        }
    }
    return idx;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (this.tmplCount &#x3e; 0 &#x26;&#x26; this._isInTemplate())
        this.tmplCount--;

    this._updateCurrentElement();
};

OpenElementStack.prototype.replace = function (oldElement, newElement) {
    var idx = this.<span class="apidocCodeKeywordSpan">_indexOf</span>(oldElement);

    this.items[idx] = newElement;

    if (idx === this.stackTop)
        this._updateCurrentElement();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype._isInTemplate" id="apidoc.element.parse5.open_element_stack.prototype._isInTemplate">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>_isInTemplate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isInTemplate = function () {
    return this.currentTagName === $.TEMPLATE &#x26;&#x26; this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this.currentTagName === $.TEMPLATE &#x26;&#x26; this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;
};

OpenElementStack.prototype._updateCurrentElement = function () {
this.current = this.items[this.stackTop];
this.currentTagName = this.current &#x26;&#x26; this.treeAdapter.getTagName(this.current);

this.currentTmplContent = this.<span class="apidocCodeKeywordSpan">_isInTemplate</span>() ? this.treeAdapter.getTemplateContent(
this.current) : null;
};

//Mutations
OpenElementStack.prototype.push = function (element) {
this.items[++this.stackTop] = element;
this._updateCurrentElement();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype._updateCurrentElement" id="apidoc.element.parse5.open_element_stack.prototype._updateCurrentElement">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>_updateCurrentElement
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_updateCurrentElement = function () {
    this.current = this.items[this.stackTop];
    this.currentTagName = this.current &#x26;&#x26; this.treeAdapter.getTagName(this.current);

    this.currentTmplContent = this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    this.currentTmplContent = this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : null;
};

//Mutations
OpenElementStack.prototype.push = function (element) {
    this.items[++this.stackTop] = element;
    this.<span class="apidocCodeKeywordSpan">_updateCurrentElement</span>();

    if (this._isInTemplate())
        this.tmplCount++;

};

OpenElementStack.prototype.pop = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.clearBackToTableBodyContext" id="apidoc.element.parse5.open_element_stack.prototype.clearBackToTableBodyContext">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>clearBackToTableBodyContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearBackToTableBodyContext = function () {
    while (this.currentTagName !== $.TBODY &#x26;&#x26;
           this.currentTagName !== $.TFOOT &#x26;&#x26;
           this.currentTagName !== $.THEAD &#x26;&#x26;
           this.currentTagName !== $.TEMPLATE &#x26;&#x26;
           this.currentTagName !== $.HTML ||
           this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML)
        this.pop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//12.2.5.4.13 The &#x22;in table body&#x22; insertion mode
//------------------------------------------------------------------
function startTagInTableBody(p, token) {
var tn = token.tagName;

if (tn === $.TR) {
    p.openElements.<span class="apidocCodeKeywordSpan">clearBackToTableBodyContext</span>();
    p._insertElement(token, NS.HTML);
    p.insertionMode = IN_ROW_MODE;
}

else if (tn === $.TH || tn === $.TD) {
    p.openElements.clearBackToTableBodyContext();
    p._insertFakeElement($.TR);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.clearBackToTableContext" id="apidoc.element.parse5.open_element_stack.prototype.clearBackToTableContext">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>clearBackToTableContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearBackToTableContext = function () {
    while (this.currentTagName !== $.TABLE &#x26;&#x26;
           this.currentTagName !== $.TEMPLATE &#x26;&#x26;
           this.currentTagName !== $.HTML ||
           this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML)
        this.pop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

else
    tokenInTable(p, token);
}

function captionStartTagInTable(p, token) {
p.openElements.<span class="apidocCodeKeywordSpan">clearBackToTableContext</span>();
p.activeFormattingElements.insertMarker();
p._insertElement(token, NS.HTML);
p.insertionMode = IN_CAPTION_MODE;
}

function colgroupStartTagInTable(p, token) {
p.openElements.clearBackToTableContext();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.clearBackToTableRowContext" id="apidoc.element.parse5.open_element_stack.prototype.clearBackToTableRowContext">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>clearBackToTableRowContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearBackToTableRowContext = function () {
    while (this.currentTagName !== $.TR &#x26;&#x26;
           this.currentTagName !== $.TEMPLATE &#x26;&#x26;
           this.currentTagName !== $.HTML ||
           this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML)
        this.pop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//12.2.5.4.14 The &#x22;in row&#x22; insertion mode
//------------------------------------------------------------------
function startTagInRow(p, token) {
var tn = token.tagName;

if (tn === $.TH || tn === $.TD) {
    p.openElements.<span class="apidocCodeKeywordSpan">clearBackToTableRowContext</span>();
    p._insertElement(token, NS.HTML);
    p.insertionMode = IN_CELL_MODE;
    p.activeFormattingElements.insertMarker();
}

else if (tn === $.CAPTION || tn === $.COL || tn === $.COLGROUP || tn === $.TBODY ||
         tn === $.TFOOT || tn === $.THEAD || tn === $.TR) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.contains" id="apidoc.element.parse5.open_element_stack.prototype.contains">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>contains
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contains = function (element) {
    return this._indexOf(element) &#x3e; -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var unopenIdx = listLength,
    entry = null;

do {
    unopenIdx--;
    entry = this.activeFormattingElements.entries[unopenIdx];

    if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.<span class="apidocCodeKeywordSpan">contains</span
>(entry.element)) {
        unopenIdx++;
        break;
    }
} while (unopenIdx &#x3e; 0);

for (var i = unopenIdx; i &#x3c; listLength; i++) {
    entry = this.activeFormattingElements.entries[i];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.generateImpliedEndTags" id="apidoc.element.parse5.open_element_stack.prototype.generateImpliedEndTags">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>generateImpliedEndTags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateImpliedEndTags = function () {
    while (isImpliedEndTagRequired(this.currentTagName))
        this.pop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        entry.element = this.openElements.current;
    }
}
};

//Close elements
Parser.prototype._closeTableCell = function () {
this.openElements.<span class="apidocCodeKeywordSpan">generateImpliedEndTags</span>();
this.openElements.popUntilTableCellPopped();
this.activeFormattingElements.clearToLastMarker();
this.insertionMode = IN_ROW_MODE;
};

Parser.prototype._closePElement = function () {
this.openElements.generateImpliedEndTagsWithExclusion($.P);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.generateImpliedEndTagsWithExclusion" id="apidoc.element.parse5.open_element_stack.prototype.generateImpliedEndTagsWithExclusion">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>generateImpliedEndTagsWithExclusion
        <span class="apidocSignatureSpan">(exclusionTagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateImpliedEndTagsWithExclusion = function (exclusionTagName) {
    while (isImpliedEndTagRequired(this.currentTagName) &#x26;&#x26; this.currentTagName !== exclusionTagName)
        this.pop();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.openElements.generateImpliedEndTags();
this.openElements.popUntilTableCellPopped();
this.activeFormattingElements.clearToLastMarker();
this.insertionMode = IN_ROW_MODE;
};

Parser.prototype._closePElement = function () {
this.openElements.<span class="apidocCodeKeywordSpan">generateImpliedEndTagsWithExclusion</span>($.P);
this.openElements.popUntilTagNamePopped($.P);
};

//Insertion modes
Parser.prototype._resetInsertionMode = function () {
for (var i = this.openElements.stackTop, last = false; i &#x3e;= 0; i--) {
    var element = this.openElements.items[i];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.getCommonAncestor" id="apidoc.element.parse5.open_element_stack.prototype.getCommonAncestor">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>getCommonAncestor
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCommonAncestor = function (element) {
    var elementIdx = this._indexOf(element);

    return --elementIdx &#x3e;= 0 ? this.items[elementIdx] : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    return furthestBlock;
}

//Step 13 of the algorithm
function aaInnerLoop(p, furthestBlock, formattingElement) {
    var lastElement = furthestBlock,
nextElement = p.openElements.<span class="apidocCodeKeywordSpan">getCommonAncestor</span>(furthestBlock);

    for (var i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {
//NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)
nextElement = p.openElements.getCommonAncestor(element);

var elementEntry = p.activeFormattingElements.getElementEntry(element),
    counterOverflow = elementEntry &#x26;&#x26; i &#x3e;= AA_INNER_LOOP_ITER,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasInButtonScope" id="apidoc.element.parse5.open_element_stack.prototype.hasInButtonScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInButtonScope
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasInButtonScope = function (tagName) {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if (tn === tagName &#x26;&#x26; ns === NS.HTML)
            return true;

        if (tn === $.BUTTON &#x26;&#x26; ns === NS.HTML || isScopingElement(tn, ns))
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p.openElements.popAllUpToHtmlElement();
    p._insertElement(token, NS.HTML);
    p.insertionMode = IN_FRAMESET_MODE;
}
}

function addressStartTagInBody(p, token) {
if (p.openElements.<span class="apidocCodeKeywordSpan">hasInButtonScope</span>($.P))
    p._closePElement();

p._insertElement(token, NS.HTML);
}

function numberedHeaderStartTagInBody(p, token) {
if (p.openElements.hasInButtonScope($.P))
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasInListItemScope" id="apidoc.element.parse5.open_element_stack.prototype.hasInListItemScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInListItemScope
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasInListItemScope = function (tagName) {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if (tn === tagName &#x26;&#x26; ns === NS.HTML)
            return true;

        if ((tn === $.UL || tn === $.OL) &#x26;&#x26; ns === NS.HTML || isScopingElement(tn, ns))
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!p.openElements.hasInButtonScope($.P))
    p._insertFakeElement($.P);

p._closePElement();
}

function liEndTagInBody(p) {
if (p.openElements.<span class="apidocCodeKeywordSpan">hasInListItemScope</span>($.LI)) {
    p.openElements.generateImpliedEndTagsWithExclusion($.LI);
    p.openElements.popUntilTagNamePopped($.LI);
}
}

function ddEndTagInBody(p, token) {
var tn = token.tagName;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasInScope" id="apidoc.element.parse5.open_element_stack.prototype.hasInScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInScope
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasInScope = function (tagName) {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if (tn === tagName &#x26;&#x26; ns === NS.HTML)
            return true;

        if (isScopingElement(tn, ns))
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        currentToken = token;
        parserProto._processToken.call(this, token);

        //NOTE: &#x3c;body&#x3e; and &#x3c;html&#x3e; are never popped from the stack, so we need to updated
        //their end location explicitly.
        if (token.type === Tokenizer.END_TAG_TOKEN &#x26;&#x26;
            (token.tagName === $.HTML ||
             token.tagName === $.BODY &#x26;&#x26; this.openElements.<span class="apidocCodeKeywordSpan">hasInScope</span>($.BODY
))) {
            for (var i = this.openElements.stackTop; i &#x3e;= 0; i--) {
var element = this.openElements.items[i];

if (this.treeAdapter.getTagName(element) === token.tagName) {
    setEndLocation(element, token);
    break;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasInSelectScope" id="apidoc.element.parse5.open_element_stack.prototype.hasInSelectScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInSelectScope
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasInSelectScope = function (tagName) {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if (ns !== NS.HTML)
            continue;

        if (tn === tagName)
            return true;

        if (tn !== $.OPTION &#x26;&#x26; tn !== $.OPTGROUP)
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (p.openElements.currentTagName === $.OPTGROUP)
        p.openElements.pop();

    p._insertElement(token, NS.HTML);
}

else if (tn === $.INPUT || tn === $.KEYGEN || tn === $.TEXTAREA || tn === $.SELECT) {
    if (p.openElements.<span class="apidocCodeKeywordSpan">hasInSelectScope</span>($.SELECT)) {
        p.openElements.popUntilTagNamePopped($.SELECT);
        p._resetInsertionMode();

        if (tn !== $.SELECT)
            p._processToken(token);
    }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasInTableScope" id="apidoc.element.parse5.open_element_stack.prototype.hasInTableScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasInTableScope
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasInTableScope = function (tagName) {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if (ns !== NS.HTML)
            continue;

        if (tn === tagName)
            return true;

        if (tn === $.TABLE || tn === $.TEMPLATE || tn === $.HTML)
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p.openElements.clearBackToTableContext();
    p._insertFakeElement($.TBODY);
    p.insertionMode = IN_TABLE_BODY_MODE;
    p._processToken(token);
}

function tableStartTagInTable(p, token) {
    if (p.openElements.<span class="apidocCodeKeywordSpan">hasInTableScope</span>($.TABLE)) {
        p.openElements.popUntilTagNamePopped($.TABLE);
        p._resetInsertionMode();
        p._processToken(token);
    }
}

function inputStartTagInTable(p, token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasNumberedHeaderInScope" id="apidoc.element.parse5.open_element_stack.prototype.hasNumberedHeaderInScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasNumberedHeaderInScope
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasNumberedHeaderInScope = function () {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if ((tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) &#x26;&#x26; ns === NS.HTML)
            return true;

        if (isScopingElement(tn, ns))
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (p.openElements.hasInScope(tn)) {
    p.openElements.generateImpliedEndTagsWithExclusion(tn);
    p.openElements.popUntilTagNamePopped(tn);
}
}

function numberedHeaderEndTagInBody(p) {
if (p.openElements.<span class="apidocCodeKeywordSpan">hasNumberedHeaderInScope</span>()) {
    p.openElements.generateImpliedEndTags();
    p.openElements.popUntilNumberedHeaderPopped();
}
}

function appletEndTagInBody(p, token) {
var tn = token.tagName;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.hasTableBodyContextInTableScope" id="apidoc.element.parse5.open_element_stack.prototype.hasTableBodyContextInTableScope">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>hasTableBodyContextInTableScope
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasTableBodyContextInTableScope = function () {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        var tn = this.treeAdapter.getTagName(this.items[i]),
            ns = this.treeAdapter.getNamespaceURI(this.items[i]);

        if (ns !== NS.HTML)
            continue;

        if (tn === $.TBODY || tn === $.THEAD || tn === $.TFOOT)
            return true;

        if (tn === $.TABLE || tn === $.HTML)
            return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p.insertionMode = IN_ROW_MODE;
    p._processToken(token);
}

else if (tn === $.CAPTION || tn === $.COL || tn === $.COLGROUP ||
         tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {

    if (p.openElements.<span class="apidocCodeKeywordSpan">hasTableBodyContextInTableScope</span>()) {
        p.openElements.clearBackToTableBodyContext();
        p.openElements.pop();
        p.insertionMode = IN_TABLE_MODE;
        p._processToken(token);
    }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.insertAfter" id="apidoc.element.parse5.open_element_stack.prototype.insertAfter">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>insertAfter
        <span class="apidocSignatureSpan">(referenceElement, newElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertAfter = function (referenceElement, newElement) {
    var insertionIdx = this._indexOf(referenceElement) + 1;

    this.items.splice(insertionIdx, 0, newElement);

    if (insertionIdx === ++this.stackTop)
        this._updateCurrentElement();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p._adoptNodes(furthestBlock, newElement);
p.treeAdapter.appendChild(furthestBlock, newElement);

p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);
p.activeFormattingElements.removeEntry(formattingElementEntry);

p.openElements.remove(formattingElementEntry.element);
p.openElements.<span class="apidocCodeKeywordSpan">insertAfter</span>(furthestBlock, newElement);
}

//Algorithm entry point
function callAdoptionAgency(p, token) {
var formattingElementEntry;

for (var i = 0; i &#x3c; AA_OUTER_LOOP_ITER; i++) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.isRootHtmlElementCurrent" id="apidoc.element.parse5.open_element_stack.prototype.isRootHtmlElementCurrent">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>isRootHtmlElementCurrent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isRootHtmlElementCurrent = function () {
    return this.stackTop === 0 &#x26;&#x26; this.currentTagName === $.HTML;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        p._appendElement(token, NS.HTML);

    else if (tn === $.NOFRAMES)
        startTagInHead(p, token);
}

function endTagInFrameset(p, token) {
    if (token.tagName === $.FRAMESET &#x26;&#x26; !p.openElements.<span class="apidocCodeKeywordSpan">isRootHtmlElementCurrent</
span>()) {
        p.openElements.pop();

        if (!p.fragmentContext &#x26;&#x26; p.openElements.currentTagName !== $.FRAMESET)
            p.insertionMode = AFTER_FRAMESET_MODE;
    }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.pop" id="apidoc.element.parse5.open_element_stack.prototype.pop">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>pop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pop = function () {
    this.stackTop--;

    if (this.tmplCount &#x3e; 0 &#x26;&#x26; this._isInTemplate())
        this.tmplCount--;

    this._updateCurrentElement();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            break;
        }
    }
};

FormattingElementList.prototype.clearToLastMarker = function () {
    while (this.length) {
        var entry = this.entries.<span class="apidocCodeKeywordSpan">pop</span>();

        this.length--;

        if (entry.type === FormattingElementList.MARKER_ENTRY)
            break;
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.popAllUpToHtmlElement" id="apidoc.element.parse5.open_element_stack.prototype.popAllUpToHtmlElement">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popAllUpToHtmlElement
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">popAllUpToHtmlElement = function () {
    //NOTE: here we assume that root &#x3c;html&#x3e; element is always first in the open element stack, so
    //we perform this fast stack clean up.
    this.stackTop = 0;
    this._updateCurrentElement();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function framesetStartTagInBody(p, token) {
var bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();

if (p.framesetOk &#x26;&#x26; bodyElement) {
    p.treeAdapter.detachNode(bodyElement);
    p.openElements.<span class="apidocCodeKeywordSpan">popAllUpToHtmlElement</span>();
    p._insertElement(token, NS.HTML);
    p.insertionMode = IN_FRAMESET_MODE;
}
}

function addressStartTagInBody(p, token) {
if (p.openElements.hasInButtonScope($.P))
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.popUntilElementPopped" id="apidoc.element.parse5.open_element_stack.prototype.popUntilElementPopped">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilElementPopped
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">popUntilElementPopped = function (element) {
    while (this.stackTop &#x3e; -1) {
        var poppedElement = this.current;

        this.pop();

        if (poppedElement === element)
            break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            break;

        if (p._isSpecialElement(element))
            furthestBlock = element;
    }

    if (!furthestBlock) {
        p.openElements.<span class="apidocCodeKeywordSpan">popUntilElementPopped</span>(formattingElementEntry.element);
        p.activeFormattingElements.removeEntry(formattingElementEntry);
    }

    return furthestBlock;
}

//Step 13 of the algorithm
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.popUntilNumberedHeaderPopped" id="apidoc.element.parse5.open_element_stack.prototype.popUntilNumberedHeaderPopped">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilNumberedHeaderPopped
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">popUntilNumberedHeaderPopped = function () {
    while (this.stackTop &#x3e; -1) {
        var tn = this.currentTagName,
            ns = this.treeAdapter.getNamespaceURI(this.current);

        this.pop();

        if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6 &#x26;&#x26; ns === NS.HTML)
            break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    p.openElements.popUntilTagNamePopped(tn);
}
}

function numberedHeaderEndTagInBody(p) {
if (p.openElements.hasNumberedHeaderInScope()) {
    p.openElements.generateImpliedEndTags();
    p.openElements.<span class="apidocCodeKeywordSpan">popUntilNumberedHeaderPopped</span>();
}
}

function appletEndTagInBody(p, token) {
var tn = token.tagName;

if (p.openElements.hasInScope(tn)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.popUntilTableCellPopped" id="apidoc.element.parse5.open_element_stack.prototype.popUntilTableCellPopped">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilTableCellPopped
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">popUntilTableCellPopped = function () {
    while (this.stackTop &#x3e; -1) {
        var tn = this.currentTagName,
            ns = this.treeAdapter.getNamespaceURI(this.current);

        this.pop();

        if (tn === $.TD || tn === $.TH &#x26;&#x26; ns === NS.HTML)
            break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
}
};

//Close elements
Parser.prototype._closeTableCell = function () {
this.openElements.generateImpliedEndTags();
this.openElements.<span class="apidocCodeKeywordSpan">popUntilTableCellPopped</span>();
this.activeFormattingElements.clearToLastMarker();
this.insertionMode = IN_ROW_MODE;
};

Parser.prototype._closePElement = function () {
this.openElements.generateImpliedEndTagsWithExclusion($.P);
this.openElements.popUntilTagNamePopped($.P);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.popUntilTagNamePopped" id="apidoc.element.parse5.open_element_stack.prototype.popUntilTagNamePopped">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>popUntilTagNamePopped
        <span class="apidocSignatureSpan">(tagName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">popUntilTagNamePopped = function (tagName) {
    while (this.stackTop &#x3e; -1) {
        var tn = this.currentTagName,
            ns = this.treeAdapter.getNamespaceURI(this.current);

        this.pop();

        if (tn === tagName &#x26;&#x26; ns === NS.HTML)
            break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.openElements.popUntilTableCellPopped();
this.activeFormattingElements.clearToLastMarker();
this.insertionMode = IN_ROW_MODE;
};

Parser.prototype._closePElement = function () {
this.openElements.generateImpliedEndTagsWithExclusion($.P);
this.openElements.<span class="apidocCodeKeywordSpan">popUntilTagNamePopped</span>($.P);
};

//Insertion modes
Parser.prototype._resetInsertionMode = function () {
for (var i = this.openElements.stackTop, last = false; i &#x3e;= 0; i--) {
    var element = this.openElements.items[i];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.push" id="apidoc.element.parse5.open_element_stack.prototype.push">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>push
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (element) {
    this.items[++this.stackTop] = element;
    this._updateCurrentElement();

    if (this._isInTemplate())
        this.tmplCount++;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            var element = entry.element,
                elementAttrs = this.treeAdapter.getAttrList(element),
                isCandidate = this.treeAdapter.getTagName(element) === neTagName &#x26;&#x26;
                              this.treeAdapter.getNamespaceURI(element) === neNamespaceURI &#x26;&#x26;
                              elementAttrs.length === neAttrsLength;

            if (isCandidate)
                candidates.<span class="apidocCodeKeywordSpan">push</span>({idx: i, attrs: elementAttrs});
        }
    }

    return candidates.length &#x3c; NOAH_ARK_CAPACITY ? [] : candidates;
};

FormattingElementList.prototype._ensureNoahArkCondition = function (newElement) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.remove" id="apidoc.element.parse5.open_element_stack.prototype.remove">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>remove
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (element) {
    for (var i = this.stackTop; i &#x3e;= 0; i--) {
        if (this.items[i] === element) {
            this.items.splice(i, 1);
            this.stackTop--;
            this._updateCurrentElement();
            break;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
counterOverflow = elementEntry &#x26;&#x26; i &#x3e;= AA_INNER_LOOP_ITER,
shouldRemoveFromOpenElements = !elementEntry || counterOverflow;

        if (shouldRemoveFromOpenElements) {
if (counterOverflow)
    p.activeFormattingElements.removeEntry(elementEntry);

p.openElements.<span class="apidocCodeKeywordSpan">remove</span>(element);
        }

        else {
element = aaRecreateElementFromEntry(p, elementEntry);

if (lastElement === furthestBlock)
    p.activeFormattingElements.bookmark = elementEntry;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.replace" id="apidoc.element.parse5.open_element_stack.prototype.replace">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>replace
        <span class="apidocSignatureSpan">(oldElement, newElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replace = function (oldElement, newElement) {
    var idx = this._indexOf(oldElement);

    this.items[idx] = newElement;

    if (idx === this.stackTop)
        this._updateCurrentElement();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

//Step 13.7 of the algorithm
function aaRecreateElementFromEntry(p, elementEntry) {
    var ns = p.treeAdapter.getNamespaceURI(elementEntry.element),
        newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);

    p.openElements.<span class="apidocCodeKeywordSpan">replace</span>(elementEntry.element, newElement);
    elementEntry.element = newElement;

    return newElement;
}

//Step 14 of the algorithm
function aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.open_element_stack.prototype.tryPeekProperlyNestedBodyElement" id="apidoc.element.parse5.open_element_stack.prototype.tryPeekProperlyNestedBodyElement">
        function <span class="apidocSignatureSpan">parse5.open_element_stack.prototype.</span>tryPeekProperlyNestedBodyElement
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tryPeekProperlyNestedBodyElement = function () {
    //Properly nested &#x3c;body&#x3e; element (should be second element in stack).
    var element = this.items[1];

    return element &#x26;&#x26; this.treeAdapter.getTagName(element) === $.BODY ? element : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function htmlStartTagInBody(p, token) {
    if (p.openElements.tmplCount === 0)
        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);
}

function bodyStartTagInBody(p, token) {
    var bodyElement = p.openElements.<span class="apidocCodeKeywordSpan">tryPeekProperlyNestedBodyElement</span>();

    if (bodyElement &#x26;&#x26; p.openElements.tmplCount === 0) {
        p.framesetOk = false;
        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);
    }
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.parser_feedback_simulator" id="apidoc.module.parse5.parser_feedback_simulator">module parse5.parser_feedback_simulator</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.parser_feedback_simulator" id="apidoc.element.parse5.parser_feedback_simulator.parser_feedback_simulator">
        function <span class="apidocSignatureSpan">parse5.</span>parser_feedback_simulator
        <span class="apidocSignatureSpan">(tokenizer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parser_feedback_simulator = function (tokenizer) {
    this.tokenizer = tokenizer;

    this.namespaceStack = [];
    this.namespaceStackTop = -1;
    this._enterNamespace(NS.HTML);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.parser_feedback_simulator.prototype" id="apidoc.module.parse5.parser_feedback_simulator.prototype">module parse5.parser_feedback_simulator.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.prototype._ensureTokenizerMode" id="apidoc.element.parse5.parser_feedback_simulator.prototype._ensureTokenizerMode">
        function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_ensureTokenizerMode
        <span class="apidocSignatureSpan">(tn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_ensureTokenizerMode = function (tn) {
    if (tn === $.TEXTAREA || tn === $.TITLE)
        this.tokenizer.state = Tokenizer.MODE.RCDATA;

    else if (tn === $.PLAINTEXT)
        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;

    else if (tn === $.SCRIPT)
        this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;

    else if (tn === $.STYLE || tn === $.IFRAME || tn === $.XMP ||
             tn === $.NOEMBED || tn === $.NOFRAMES || tn === $.NOSCRIPT)
        this.tokenizer.state = Tokenizer.MODE.RAWTEXT;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
else {
    if (tn === $.PRE || tn === $.TEXTAREA || tn === $.LISTING)
        this.skipNextNewLine = true;

    else if (tn === $.IMAGE)
        token.tagName = $.IMG;

    this.<span class="apidocCodeKeywordSpan">_ensureTokenizerMode</span>(tn);
}
};

ParserFeedbackSimulator.prototype._handleEndTagToken = function (token) {
var tn = token.tagName;

if (!this.inForeignContent) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.prototype._enterNamespace" id="apidoc.element.parse5.parser_feedback_simulator.prototype._enterNamespace">
        function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_enterNamespace
        <span class="apidocSignatureSpan">(namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_enterNamespace = function (namespace) {
    this.namespaceStackTop++;
    this.namespaceStack.push(namespace);

    this.inForeignContent = namespace !== NS.HTML;
    this.currentNamespace = namespace;
    this.tokenizer.allowCDATA = this.inForeignContent;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//ParserFeedbackSimulator
//Simulates adjustment of the Tokenizer which performed by standard parser during tree construction.
var ParserFeedbackSimulator = module.exports = function (tokenizer) {
this.tokenizer = tokenizer;

this.namespaceStack = [];
this.namespaceStackTop = -1;
this.<span class="apidocCodeKeywordSpan">_enterNamespace</span>(NS.HTML);
};

ParserFeedbackSimulator.prototype.getNextToken = function () {
var token = this.tokenizer.getNextToken();

if (token.type === Tokenizer.START_TAG_TOKEN)
    this._handleStartTagToken(token);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.prototype._handleEndTagToken" id="apidoc.element.parse5.parser_feedback_simulator.prototype._handleEndTagToken">
        function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_handleEndTagToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleEndTagToken = function (token) {
    var tn = token.tagName;

    if (!this.inForeignContent) {
        var previousNs = this.namespaceStack[this.namespaceStackTop - 1];

        if (previousNs === NS.SVG &#x26;&#x26; foreignContent.SVG_TAG_NAMES_ADJUSTMENT_MAP[tn])
            tn = foreignContent.SVG_TAG_NAMES_ADJUSTMENT_MAP[tn];

        //NOTE: check for exit from integration point
        if (foreignContent.isIntegrationPoint(tn, previousNs, token.attrs))
            this._leaveCurrentNamespace();
    }

    else if (tn === $.SVG &#x26;&#x26; this.currentNamespace === NS.SVG ||
             tn === $.MATH &#x26;&#x26; this.currentNamespace === NS.MATHML)
        this._leaveCurrentNamespace();

    // NOTE: adjust end tag name as well for consistency
    if (this.currentNamespace === NS.SVG)
        foreignContent.adjustTokenSVGTagName(token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ParserFeedbackSimulator.prototype.getNextToken = function () {
var token = this.tokenizer.getNextToken();

if (token.type === Tokenizer.START_TAG_TOKEN)
    this._handleStartTagToken(token);

else if (token.type === Tokenizer.END_TAG_TOKEN)
    this.<span class="apidocCodeKeywordSpan">_handleEndTagToken</span>(token);

else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN &#x26;&#x26; this.inForeignContent) {
    token.type = Tokenizer.CHARACTER_TOKEN;
    token.chars = UNICODE.REPLACEMENT_CHARACTER;
}

else if (this.skipNextNewLine) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.prototype._handleStartTagToken" id="apidoc.element.parse5.parser_feedback_simulator.prototype._handleStartTagToken">
        function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_handleStartTagToken
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleStartTagToken = function (token) {
    var tn = token.tagName;

    if (tn === $.SVG)
        this._enterNamespace(NS.SVG);

    else if (tn === $.MATH)
        this._enterNamespace(NS.MATHML);

    if (this.inForeignContent) {
        if (foreignContent.causesExit(token)) {
            this._leaveCurrentNamespace();
            return;
        }

        var currentNs = this.currentNamespace;

        if (currentNs === NS.MATHML)
            foreignContent.adjustTokenMathMLAttrs(token);

        else if (currentNs === NS.SVG) {
            foreignContent.adjustTokenSVGTagName(token);
            foreignContent.adjustTokenSVGAttrs(token);
        }

        foreignContent.adjustTokenXMLAttrs(token);

        tn = token.tagName;

        if (!token.selfClosing &#x26;&#x26; foreignContent.isIntegrationPoint(tn, currentNs, token.attrs))
            this._enterNamespace(NS.HTML);
    }

    else {
        if (tn === $.PRE || tn === $.TEXTAREA || tn === $.LISTING)
            this.skipNextNewLine = true;

        else if (tn === $.IMAGE)
            token.tagName = $.IMG;

        this._ensureTokenizerMode(tn);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._enterNamespace(NS.HTML);
};

ParserFeedbackSimulator.prototype.getNextToken = function () {
var token = this.tokenizer.getNextToken();

if (token.type === Tokenizer.START_TAG_TOKEN)
    this.<span class="apidocCodeKeywordSpan">_handleStartTagToken</span>(token);

else if (token.type === Tokenizer.END_TAG_TOKEN)
    this._handleEndTagToken(token);

else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN &#x26;&#x26; this.inForeignContent) {
    token.type = Tokenizer.CHARACTER_TOKEN;
    token.chars = UNICODE.REPLACEMENT_CHARACTER;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.prototype._leaveCurrentNamespace" id="apidoc.element.parse5.parser_feedback_simulator.prototype._leaveCurrentNamespace">
        function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>_leaveCurrentNamespace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_leaveCurrentNamespace = function () {
    this.namespaceStackTop--;
    this.namespaceStack.pop();

    this.currentNamespace = this.namespaceStack[this.namespaceStackTop];
    this.inForeignContent = this.currentNamespace !== NS.HTML;
    this.tokenizer.allowCDATA = this.inForeignContent;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._enterNamespace(NS.SVG);

    else if (tn === $.MATH)
this._enterNamespace(NS.MATHML);

    if (this.inForeignContent) {
if (foreignContent.causesExit(token)) {
    this.<span class="apidocCodeKeywordSpan">_leaveCurrentNamespace</span>();
    return;
}

var currentNs = this.currentNamespace;

if (currentNs === NS.MATHML)
    foreignContent.adjustTokenMathMLAttrs(token);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.parser_feedback_simulator.prototype.getNextToken" id="apidoc.element.parse5.parser_feedback_simulator.prototype.getNextToken">
        function <span class="apidocSignatureSpan">parse5.parser_feedback_simulator.prototype.</span>getNextToken
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNextToken = function () {
    var token = this.tokenizer.getNextToken();

    if (token.type === Tokenizer.START_TAG_TOKEN)
        this._handleStartTagToken(token);

    else if (token.type === Tokenizer.END_TAG_TOKEN)
        this._handleEndTagToken(token);

    else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN &#x26;&#x26; this.inForeignContent) {
        token.type = Tokenizer.CHARACTER_TOKEN;
        token.chars = UNICODE.REPLACEMENT_CHARACTER;
    }

    else if (this.skipNextNewLine) {
        if (token.type !== Tokenizer.HIBERNATION_TOKEN)
            this.skipNextNewLine = false;

        if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN &#x26;&#x26; token.chars[0] === &#x27;\n&#x27;) {
            if (token.chars.length === 1)
                return this.getNextToken();

            token.chars = token.chars.substr(1);
        }
    }

    return token;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

//Parsing loop
Parser.prototype._runParsingLoop  = function (scriptHandler) {
    while (!this.stopped) {
this._setupTokenizerCDATAMode();

var token = this.tokenizer.<span class="apidocCodeKeywordSpan">getNextToken</span>();

if (token.type === Tokenizer.HIBERNATION_TOKEN)
    break;

if (this.skipNextNewLine) {
    this.skipNextNewLine = false;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.parser_mixin" id="apidoc.module.parse5.parser_mixin">module parse5.parser_mixin</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.parser_mixin.assign" id="apidoc.element.parse5.parser_mixin.assign">
        function <span class="apidocSignatureSpan">parse5.parser_mixin.</span>assign
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">assign = function (parser) {
    //NOTE: obtain Parser proto this way to avoid module circular references
    var parserProto = Object.getPrototypeOf(parser),
        treeAdapter = parser.treeAdapter,
        attachableElementLocation = null,
        lastFosterParentingLocation = null,
        currentToken = null;

    function setEndLocation(element, closingToken) {
        var loc = element.__location;

        if (!loc)
            return;

        if (!loc.startTag) {
            loc.startTag = {
                line: loc.line,
                col: loc.col,
                startOffset: loc.startOffset,
                endOffset: loc.endOffset
            };

            if (loc.attrs)
                loc.startTag.attrs = loc.attrs;
        }

        if (closingToken.location) {
            var ctLocation = closingToken.location,
                tn = treeAdapter.getTagName(element),
            // NOTE: For cases like &#x3c;p&#x3e; &#x3c;p&#x3e; &#x3c;/p&#x3e; - First &#x27;p&#x27; closes without a closing tag and
            // for cases like &#x3c;td&#x3e; &#x3c;p&#x3e; &#x3c;/td&#x3e; - &#x27;p&#x27; closes without a closing tag
                isClosingEndTag = closingToken.type === Tokenizer.END_TAG_TOKEN &#x26;&#x26;
                                  tn === closingToken.tagName;

            if (isClosingEndTag) {
                loc.endTag = {
                    line: ctLocation.line,
                    col: ctLocation.col,
                    startOffset: ctLocation.startOffset,
                    endOffset: ctLocation.endOffset
                };
            }

            if (isClosingEndTag)
                loc.endOffset = ctLocation.endOffset;
            else
                loc.endOffset = ctLocation.startOffset;
        }

        else if (closingToken.type === Tokenizer.EOF_TOKEN)
            loc.endOffset = parser.tokenizer.preprocessor.sourcePos;
    }

    //NOTE: patch _bootstrap method
    parser._bootstrap = function (document, fragmentContext) {
        parserProto._bootstrap.call(this, document, fragmentContext);

        attachableElementLocation = null;
        lastFosterParentingLocation = null;
        currentToken = null;

        //OpenElementStack
        parser.openElements.pop = function () {
            setEndLocation(this.current, currentToken);
            OpenElementStack.prototype.pop.call(this);
        };

        parser.openElements.popAllUpToHtmlElement = function () {
            for (var i = this.stackTop; i &#x3e; 0; i--)
                setEndLocation(this.items[i], currentToken);

            OpenElementStack.prototype.popAllUpToHtmlElement.call(this);
        };

        parser.openElements.remove = function (element) {
            setEndLocation(element, currentToken);
            OpenElementStack.prototype.remove.call(this, element);
        };
    };

    parser._runParsingLoop = function (scriptHandler) {
        parserProto._runParsingLoop.call(this, scriptHandler);

        // NOTE: generate location info for elements
        // that remains on open element stack
        for (var i = parser.openElements.stackTop; i &#x3e;= 0; i--)
            setEndLocation(parser.openElements.items[i], currentToken);
    };


    //Token processing
    parser._processTokenInForeignContent = function (token) {
        currentToken = token;
        parserProto._processTokenInForeignContent.call(this, token);
    };

    parser._processToken = function (token) {
        currentToken = token;
        parserProto._processToken.call(this, token);

        //NOTE: &#x3c;body&#x3e; and &#x3c;html&#x3e; are never popped from the stack, so we need to updated
        //their end location explicitly.
        if (token.type === Tokenizer.END_TAG_TOKEN &#x26;&#x26;
            (token.tagName === $.HTML ||
             token.tagName === $.BODY &#x26;&#x26; this.openElements.hasInScope($.BODY))) {
            for (var i = this.openElements.stackTop; i &#x3e;= 0; i--) {
                var element = this.openElements.items[i];

                if (this.treeAdapter.getTagName(element) === token.tagName) {
                    setEndLocation(element, token);
                    break;
                }
            }
        }
    };


    //Doctyp ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Parser = module.exports = function (options) {
this.options = mergeOptions(DEFAULT_OPTIONS, options);

this.treeAdapter = this.options.treeAdapter;
this.pendingScript = null;

if (this.options.locationInfo)
    locationInfoMixin.<span class="apidocCodeKeywordSpan">assign</span>(this);
};

// API
Parser.prototype.parse = function (html) {
var document = this.treeAdapter.createDocument();

this._bootstrap(document, null);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.preprocessor" id="apidoc.module.parse5.preprocessor">module parse5.preprocessor</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.preprocessor.preprocessor" id="apidoc.element.parse5.preprocessor.preprocessor">
        function <span class="apidocSignatureSpan">parse5.</span>preprocessor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preprocessor = function () {
    this.html = null;

    this.pos = -1;
    this.lastGapPos = -1;
    this.lastCharPos = -1;
    this.droppedBufferSize = 0;

    this.gapStack = [];

    this.skipNextNewLine = false;

    this.lastChunkWritten = false;
    this.endOfChunkHit = false;
    this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.preprocessor.prototype" id="apidoc.module.parse5.preprocessor.prototype">module parse5.preprocessor.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype._addGap" id="apidoc.element.parse5.preprocessor.prototype._addGap">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>_addGap
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_addGap = function () {
    this.gapStack.push(this.lastGapPos);
    this.lastGapPos = this.pos;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (isSurrogatePair(cp, nextCp)) {
        //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.
        this.pos++;
        cp = getSurrogatePairCodePoint(cp, nextCp);

        //NOTE: add gap that should be avoided during retreat
        this.<span class="apidocCodeKeywordSpan">_addGap</span>();
    }
}

// NOTE: we&#x27;ve hit the end of chunk, stop processing at this point
else if (!this.lastChunkWritten) {
    this.endOfChunkHit = true;
    return $.EOF;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype._processHighRangeCodePoint" id="apidoc.element.parse5.preprocessor.prototype._processHighRangeCodePoint">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>_processHighRangeCodePoint
        <span class="apidocSignatureSpan">(cp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_processHighRangeCodePoint = function (cp) {
    //NOTE: try to peek a surrogate pair
    if (this.pos !== this.lastCharPos) {
        var nextCp = this.html.charCodeAt(this.pos + 1);

        if (isSurrogatePair(cp, nextCp)) {
            //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.
            this.pos++;
            cp = getSurrogatePairCodePoint(cp, nextCp);

            //NOTE: add gap that should be avoided during retreat
            this._addGap();
        }
    }

    // NOTE: we&#x27;ve hit the end of chunk, stop processing at this point
    else if (!this.lastChunkWritten) {
        this.endOfChunkHit = true;
        return $.EOF;
    }

    return cp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return $.LINE_FEED;
}

this.skipNextNewLine = false;

//OPTIMIZATION: first perform check if the code point in the allowed range that covers most common
//HTML input (e.g. ASCII codes) to avoid performance-cost operations for high-range code points.
return cp &#x3e;= 0xD800 ? this.<span class="apidocCodeKeywordSpan">_processHighRangeCodePoint</span>(cp) : cp;
};

Preprocessor.prototype.retreat = function () {
if (this.pos === this.lastGapPos) {
    this.lastGapPos = this.gapStack.pop();
    this.pos--;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype.advance" id="apidoc.element.parse5.preprocessor.prototype.advance">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>advance
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">advance = function () {
    this.pos++;

    if (this.pos &#x3e; this.lastCharPos) {
        if (!this.lastChunkWritten)
            this.endOfChunkHit = true;

        return $.EOF;
    }

    var cp = this.html.charCodeAt(this.pos);

    //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character
    //must be ignored.
    if (this.skipNextNewLine &#x26;&#x26; cp === $.LINE_FEED) {
        this.skipNextNewLine = false;
        this._addGap();
        return this.advance();
    }

    //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters
    if (cp === $.CARRIAGE_RETURN) {
        this.skipNextNewLine = true;
        return $.LINE_FEED;
    }

    this.skipNextNewLine = false;

    //OPTIMIZATION: first perform check if the code point in the allowed range that covers most common
    //HTML input (e.g. ASCII codes) to avoid performance-cost operations for high-range code points.
    return cp &#x3e;= 0xD800 ? this._processHighRangeCodePoint(cp) : cp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return false;
};


//Consumption
Tokenizer.prototype._consume = function () {
    this.consumedAfterSnapshot++;
    return this.preprocessor.<span class="apidocCodeKeywordSpan">advance</span>();
};

Tokenizer.prototype._unconsume = function () {
    this.consumedAfterSnapshot--;
    this.preprocessor.retreat();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype.dropParsedChunk" id="apidoc.element.parse5.preprocessor.prototype.dropParsedChunk">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>dropParsedChunk
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropParsedChunk = function () {
    if (this.pos &#x3e; this.bufferWaterline) {
        this.lastCharPos -= this.pos;
        this.droppedBufferSize += this.pos;
        this.html = this.html.substring(this.pos);
        this.pos = 0;
        this.lastGapPos = -1;
        this.gapStack = [];
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//State machine
var _ = Tokenizer.prototype;

//12.2.4.1 Data state
//------------------------------------------------------------------
_[DATA_STATE] = function dataState(cp) {
this.preprocessor.<span class="apidocCodeKeywordSpan">dropParsedChunk</span>();

if (cp === $.AMPERSAND)
    this.state = CHARACTER_REFERENCE_IN_DATA_STATE;

else if (cp === $.LESS_THAN_SIGN)
    this.state = TAG_OPEN_STATE;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype.insertHtmlAtCurrentPos" id="apidoc.element.parse5.preprocessor.prototype.insertHtmlAtCurrentPos">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>insertHtmlAtCurrentPos
        <span class="apidocSignatureSpan">(chunk)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertHtmlAtCurrentPos = function (chunk) {
    this.html = this.html.substring(0, this.pos + 1) +
                chunk +
                this.html.substring(this.pos + 1, this.html.length);

    this.lastCharPos = this.html.length - 1;
    this.endOfChunkHit = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ParserStream.prototype._resume = function () {
if (!this.pausedByScript)
    throw new Error(&#x27;Parser was already resumed&#x27;);

while (this.pendingHtmlInsertions.length) {
    var html = this.pendingHtmlInsertions.pop();

    this.parser.tokenizer.<span class="apidocCodeKeywordSpan">insertHtmlAtCurrentPos</span>(html);
}

this.pausedByScript = false;

//NOTE: keep parsing if we don&#x27;t wait for the next input chunk
if (this.parser.tokenizer.active)
    this._runParsingLoop();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype.retreat" id="apidoc.element.parse5.preprocessor.prototype.retreat">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>retreat
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retreat = function () {
    if (this.pos === this.lastGapPos) {
        this.lastGapPos = this.gapStack.pop();
        this.pos--;
    }

    this.pos--;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Tokenizer.prototype._hibernationSnapshot = function () {
this.consumedAfterSnapshot = 0;
};

Tokenizer.prototype._ensureHibernation = function () {
if (this.preprocessor.endOfChunkHit) {
    for (; this.consumedAfterSnapshot &#x3e; 0; this.consumedAfterSnapshot--)
        this.preprocessor.<span class="apidocCodeKeywordSpan">retreat</span>();

    this.active = false;
    this.tokenQueue.push({type: Tokenizer.HIBERNATION_TOKEN});

    return true;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.parse5.preprocessor.prototype.write" id="apidoc.element.parse5.preprocessor.prototype.write">
        function <span class="apidocSignatureSpan">parse5.preprocessor.prototype.</span>write
        <span class="apidocSignatureSpan">(chunk, isLastChunk)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (chunk, isLastChunk) {
    if (this.html)
        this.html += chunk;

    else
        this.html = chunk;

    this.lastCharPos = this.html.length - 1;
    this.endOfChunkHit = false;
    this.lastChunkWritten = isLastChunk;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

// API
Parser.prototype.parse = function (html) {
var document = this.treeAdapter.createDocument();

this._bootstrap(document, null);
this.tokenizer.<span class="apidocCodeKeywordSpan">write</span>(html, true);
this._runParsingLoop(null);

return document;
};

Parser.prototype.parseFragment = function (html, fragmentContext) {
//NOTE: use &#x3c;template&#x3e; element as a fragment context if context element was not provided,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.parse5.tokenizer_mixin" id="apidoc.module.parse5.tokenizer_mixin">module parse5.tokenizer_mixin</a></h1>


    <h2>
        <a href="#apidoc.element.parse5.tokenizer_mixin.assign" id="apidoc.element.parse5.tokenizer_mixin.assign">
        function <span class="apidocSignatureSpan">parse5.tokenizer_mixin.</span>assign
        <span class="apidocSignatureSpan">(tokenizer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">assign = function (tokenizer) {
    //NOTE: obtain Tokenizer proto this way to avoid module circular references
    var tokenizerProto = Object.getPrototypeOf(tokenizer),
        tokenStartOffset = -1,
        tokenCol = -1,
        tokenLine = 1,
        isEol = false,
        lineStartPos = 0,
        col = -1,
        line = 1;

    function attachLocationInfo(token) {
        token.location = {
            line: tokenLine,
            col: tokenCol,
            startOffset: tokenStartOffset,
            endOffset: -1
        };
    }

    //NOTE: patch consumption method to track line/col information
    tokenizer._consume = function () {
        var cp = tokenizerProto._consume.call(this);

        //NOTE: LF should be in the last column of the line
        if (isEol) {
            isEol = false;
            line++;
            lineStartPos = this.preprocessor.sourcePos;
        }

        if (cp === $.LINE_FEED)
            isEol = true;

        col = this.preprocessor.sourcePos - lineStartPos + 1;

        return cp;
    };

    tokenizer._unconsume = function () {
        tokenizerProto._unconsume.call(this);
        isEol = false;

        col = this.preprocessor.sourcePos - lineStartPos + 1;
    };

    //NOTE: patch token creation methods and attach location objects
    tokenizer._createStartTagToken = function () {
        tokenizerProto._createStartTagToken.call(this);
        attachLocationInfo(this.currentToken);
    };

    tokenizer._createEndTagToken = function () {
        tokenizerProto._createEndTagToken.call(this);
        attachLocationInfo(this.currentToken);
    };

    tokenizer._createCommentToken = function () {
        tokenizerProto._createCommentToken.call(this);
        attachLocationInfo(this.currentToken);
    };

    tokenizer._createDoctypeToken = function (initialName) {
        tokenizerProto._createDoctypeToken.call(this, initialName);
        attachLocationInfo(this.currentToken);
    };

    tokenizer._createCharacterToken = function (type, ch) {
        tokenizerProto._createCharacterToken.call(this, type, ch);
        attachLocationInfo(this.currentCharacterToken);
    };

    tokenizer._createAttr = function (attrNameFirstCh) {
        tokenizerProto._createAttr.call(this, attrNameFirstCh);
        this.currentAttrLocation = {
            line: line,
            col: col,
            startOffset: this.preprocessor.sourcePos,
            endOffset: -1
        };
    };

    tokenizer._leaveAttrName = function (toState) {
        tokenizerProto._leaveAttrName.call(this, toState);
        this._attachCurrentAttrLocationInfo();
    };

    tokenizer._leaveAttrValue = function (toState) {
        tokenizerProto._leaveAttrValue.call(this, toState);
        this._attachCurrentAttrLocationInfo();
    };

    tokenizer._attachCurrentAttrLocationInfo = function () {
        this.currentAttrLocation.endOffset = this.preprocessor.sourcePos;

        if (!this.currentToken.location.attrs)
            this.currentToken.location.attrs = Object.create(null);

        this.currentToken.location.attrs[this.currentAttr.name] = this.currentAttrLocation;
    };

    //NOTE: patch token emission methods to determine end location
    tokenizer._emitCurrentToken = function () {
        //NOTE: if we have pending character token make it&#x27;s end location equal to the
        //current token&#x27;s start location.
        if (this.currentCharacterToken)
            this.currentCharacterToken.location.endOffset = this.currentToken.location.startOffset;

        this.currentToken.location.endOffset = this.preprocessor.sourcePos + 1;
        tokenizerProto._emitCurrentToken.call(this);
    };

    tokenizer._emitCurrentCharacterToken = function () {
        //NOTE: if we have character token and it&#x27;s location wasn&#x27;t set in the _emitCurrentToken(),
        //then set it&#x27;s location at the current preprocessor position.
        //We don&#x27;t need to increment preprocessor position, since character token
        //emission is always forced by the start of the next character token here.
        //So, we already have advanced posi ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Parser = module.exports = function (options) {
this.options = mergeOptions(DEFAULT_OPTIONS, options);

this.treeAdapter = this.options.treeAdapter;
this.pendingScript = null;

if (this.options.locationInfo)
    locationInfoMixin.<span class="apidocCodeKeywordSpan">assign</span>(this);
};

// API
Parser.prototype.parse = function (html) {
var document = this.treeAdapter.createDocument();

this._bootstrap(document, null);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
